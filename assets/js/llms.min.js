var LLMS=window.LLMS||{};!function(t){"use strict";LLMS.Achievements={init:function(){var e=this;t(".llms-achievement")&&t(document).on("ready",function(){e.bind(),e.maybe_open()})},bind:function(){var e=this;t(".llms-achievement").each(function(){e.create_modal(t(this))}),t(".llms-achievement").on("click",function(){var n=t(this),s="achievement-"+n.attr("data-id"),i=t("#"+s);i.length||e.create_modal(n),i.iziModal("open")})},create_modal:function(e){var n="achievement-"+e.attr("data-id"),s=t("#"+n);s.length||(s=t('<div class="llms-achievement-modal" id="'+n+'" />'),t("body").append(s)),s.iziModal({headerColor:"#3a3a3a",group:"achievements",history:!0,loop:!0,overlayColor:"rgba( 0, 0, 0, 0.6 )",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",width:340,onOpening:function(t){t.setTitle(e.find(".llms-achievement-title").html()),t.setSubtitle(e.find(".llms-achievement-date").html()),t.setContent('<div class="llms-achievement">'+e.html()+"</div>")},onClosing:function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)}})},maybe_open:function(){var e=window.location.hash;e&&-1!==e.indexOf("achievement-")&&t('a[href="'+e+'"]').first().trigger("click")}},LLMS.Ajax={url:window.ajaxurl||window.llms.ajaxurl,type:"post",data:[],cache:!1,dataType:"json",async:!0,response:[],init:function(e){if(null===e||"object"!=typeof e)return!1;e.url="url"in e?e.url:this.url,e.type="type"in e?e.type:this.type,e.data="data"in e?e.data:this.data,e.cache="cache"in e?e.cache:this.cache,e.dataType="dataType"in e?e.dataType:this.dataType,e.async="async"in e?e.async:this.async,e.data._ajax_nonce=wp_ajax_data.nonce;var n=LLMS.Rest,s=n.get_query_vars();return e.data.post_id="post"in s?s.post:null,!e.data.post_id&&t("input#post_ID").length&&(e.data.post_id=t("input#post_ID").val()),e},call:function(t){var e=this.init(t);return!!e&&(this.request(e),this)},request:function(e){return t.ajax(e),this}},LLMS.Donut=function(e){function n(e){this.settings=t.extend({element:e.element,percent:100},e),this.circle=this.settings.element.find("path"),this.settings.stroke_width=parseInt(this.circle.css("stroke-width")),this.radius=(parseInt(this.settings.element.css("width"))-this.settings.stroke_width)/2,this.angle=-97.5,this.i=Math.round(.75*this.settings.percent),this.first=!0,this.animate=function(){this.timer=setInterval(this.loop.bind(this),10)},this.loop=function(){this.angle+=5,this.angle%=360;var t,e=this.angle/180*Math.PI,n=this.radius+this.settings.stroke_width/2+Math.cos(e)*this.radius,s=this.radius+this.settings.stroke_width/2+Math.sin(e)*this.radius;this.first===!0?(t=this.circle.attr("d")+" M "+n+" "+s,this.first=!1):t=this.circle.attr("d")+" L "+n+" "+s,this.circle.attr("d",t),this.i--,this.i<=0&&clearInterval(this.timer)}}function s(t){var e='<path d="M100,100" />';t.append('<svg preserveAspectRatio="xMidYMid" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>");var s=new n({element:t,percent:t.attr("data-perc")});s.animate()}s(e)},LLMS.Instructors={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-instructors").length&&LLMS.wait_for_matchHeight(function(){e.bind()})},bind:function(){t(".llms-instructors .llms-author").matchHeight()}},LLMS.l10n=LLMS.l10n||{},LLMS.l10n.translate=function(t){var e=this;return e.strings[t]?e.strings[t]:t},LLMS.l10n.replace=function(e,n){var s=this.translate(e);return t.each(n,function(t,e){-1!==t.indexOf("s")?e=e.toString():-1!==t.indexOf("d")&&(e=1*e),s=s.replace(t,e)}),s},LLMS.LessonPreview={$els:null,init:function(){var e=this;this.$locked=t('a[href="#llms-lesson-locked"]'),this.$locked.length&&e.bind(),t(".llms-course-navigation").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},bind:function(){var e=this;this.$locked.on("click",function(){return!1}),this.$locked.on("mouseenter",function(){var n=t(this).find(".llms-tooltip");if(!n.length){var s=t(this).attr("data-tooltip-msg");s||(s=LLMS.l10n.translate("You do not have permission to access this content")),n=e.get_tooltip(s),t(this).append(n)}setTimeout(function(){n.addClass("show")},10)}),this.$locked.on("mouseleave",function(){var e=t(this).find(".llms-tooltip");e.removeClass("show")})},match_height:function(){t(".llms-course-navigation .llms-lesson-link").matchHeight()},get_tooltip:function(e){var n=t('<div class="llms-tooltip" />');return n.append('<div class="llms-tooltip-content">'+e+"</div>"),n}},LLMS.Loops={init:function(){var e=this;t(".llms-loop").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},match_height:function(){t(".llms-loop-item .llms-loop-item-content").matchHeight(),t(".llms-achievement-loop-item .llms-achievement").matchHeight(),t(".llms-certificate-loop-item .llms-certificate").matchHeight()}},LLMS.OutlineCollapse={$outlines:null,init:function(){this.$outlines=t(".llms-widget-syllabus--collapsible"),this.$outlines.length&&this.bind()},bind:function(){var e=this;this.$outlines.each(function(){var n=t(this),s=n.find(".llms-section .section-header");s.on("click",function(n){n.preventDefault();var s=t(this),i=s.closest(".llms-section"),o=e.get_section_state(i);switch(o){case"closed":e.open_section(i);break;case"opened":e.close_section(i)}}),n.find(".llms-collapse-toggle").on("click",function(n){n.preventDefault();var i=t(this),o=i.attr("data-action"),a="close"===o?"opened":"closed";s.each(function(){var n=t(this).closest(".llms-section"),s=e.get_section_state(n);if(a!==s)return!0;switch(s){case"closed":e.close_section(n);break;case"opened":e.open_section(n)}t(this).trigger("click")})})})},close_section:function(t){t.removeClass("llms-section--opened").addClass("llms-section--closed")},open_section:function(t){t.removeClass("llms-section--closed").addClass("llms-section--opened")},get_section_state:function(t){return t.hasClass("llms-section--opened")?"opened":"closed"}},t.extend(LLMS.PasswordStrength,{$pass:t(".llms-password"),$conf:t(".llms-password-confirm"),$meter:t(".llms-password-strength-meter"),$form:null,init:function(){if(!t("body").hasClass("wp-admin")&&this.$meter.length){this.$form=this.$pass.closest("form");var e,n=this,s=0;e=setInterval(function(){if(s>=300)console.log("cannot do password strength meter.");else{if("undefined"==typeof wp&&"undefined"==typeof wp.passwordStrength)return void s++;n.bind(),n.$form.trigger("llms-password-strength-ready")}clearInterval(e)},100)}},bind:function(){var t=this;this.$form.hasClass("llms-checkout")||this.$form.on("submit",t,t.submit),t.$pass.add(t.$conf).on("keyup",function(){t.check_strength()})},check_strength:function(){var t=this.$pass.closest(".llms-form-field"),e=this.$conf.closest(".llms-form-field"),n=this.$pass.val().length,s=this.$conf.val().length;return n||s?(this.get_current_strength_status()?(t.removeClass("invalid").addClass("valid"),s&&e.removeClass("invalid").addClass("valid")):(t.removeClass("valid").addClass("invalid"),s&&e.removeClass("valid").addClass("invalid")),this.$meter.removeClass("too-short very-weak weak medium strong mismatch"),this.$meter.show().addClass(this.get_current_strength("slug")),void this.$meter.html(this.get_current_strength("text"))):(t.removeClass("valid invalid"),e.removeClass("valid invalid"),void this.$meter.hide())},checkout:function(t,e){e(t.get_current_strength_status()?!0:LLMS.l10n.translate("There is an issue with your chosen password."))},get_blacklist:function(){var t=wp.passwordStrength.userInputBlacklist();return t},get_current_strength:function(t){t=t||"int";var e,n=this.$pass.val(),s=this.$conf.val();return n.length<6?e=-1:(e=wp.passwordStrength.meter(n,this.get_blacklist(),s),0===e&&(e=1)),"slug"===t?this.get_strength_slug(e):"text"===t?this.get_strength_text(e):e},get_current_strength_status:function(){var t=this.get_current_strength(),e=this.get_strength_value(this.get_minimum_strength());return 5!==t&&t>=e},get_strength_slug:function(t){var e={"-1":"too-short",1:"very-weak",2:"weak",3:"medium",4:"strong",5:"mismatch"};return e[t]?e[t]:e[5]},get_strength_text:function(t){var e={"-1":LLMS.l10n.translate("Too Short"),1:LLMS.l10n.translate("Very Weak"),2:LLMS.l10n.translate("Weak"),3:LLMS.l10n.translate("Medium"),4:LLMS.l10n.translate("Strong"),5:LLMS.l10n.translate("Mismatch")};return e[t]?e[t]:e[5]},get_strength_value:function(t){var e={"too-short":-1,"very-weak":1,weak:2,medium:3,strong:4,mismatch:5};return e[t]?e[t]:e.mismatch},submit:function(e){var n=e.data;e.preventDefault(),n.$pass.trigger("keyup"),n.get_current_strength_status()?(n.$form.off("submit",n.submit),n.$form.trigger("submit")):(t("html, body").animate({scrollTop:n.$meter.offset().top-100},200),n.$meter.hide(),setTimeout(function(){n.$meter.fadeIn(400)},220))}}),LLMS.Pricing_Tables={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-access-plans").length&&(LLMS.wait_for_matchHeight(function(){e.bind()}),this.$locked=t('a[href="#llms-plan-locked"]'),this.$locked.length&&LLMS.wait_for_popover(function(){e.bind_locked()}))},bind:function(){t(".llms-access-plan-content").matchHeight(),t(".llms-access-plan-pricing.trial").matchHeight()},bind_locked:function(){this.$locked.each(function(){t(this).webuiPopover({animation:"pop",closeable:!0,content:function(e){var n=t('<div class="llms-members-only-restrictions" />');return n.append(e.$element.closest(".llms-access-plan").find(".llms-access-plan-restrictions ul").clone()),n},placement:"top",style:"inverse",title:LLMS.l10n.translate("Members Only Pricing"),width:"280px"})})}},LLMS.Review={init:function(){this.bind()},bind:function(){t("#llms_review_submit_button").click(function(){""!==t("#review_title").val()&&""!==t("#review_text").val()?jQuery.ajax({type:"post",dataType:"json",url:window.llms.ajaxurl,data:{action:"LLMSSubmitReview",review_title:t("#review_title").val(),review_text:t("#review_text").val(),pageID:t("#post_ID").val()},success:function(){console.log("Review success"),t("#review_box").hide("swing"),t("#thank_you_box").show("swing")},error:function(t,e,n){console.log(t),console.log(e),console.log(n)}}):(""===t("#review_title").val()?t("#review_title_error").show("swing"):t("#review_title_error").hide("swing"),""===t("#review_text").val()?t("#review_text_error").show("swing"):t("#review_text_error").hide("swing"))}),t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):t(".llms-num-reviews-bottom").hide(),t("#_llms_display_reviews").change(function(){t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):(t(".llms-num-reviews-top").removeClass("top"),t(".llms-num-reviews-bottom").hide())})}},LLMS.Spinner={get:function(e,n){var s=e.find(".llms-spinning").first();return s.length||(n=n?n:"default",s=t('<div class="llms-spinning"><i class="llms-spinner '+n+'"></i></div>'),e.append(s)),s},start:function(e,n){var s=this;e.each(function(){s.get(t(this),n).show()})},stop:function(e){var n=this;e.each(function(){n.get(t(this)).hide()})}},LLMS.StudentDashboard={screen:"",meter_exists:0,init:function(){t(".llms-student-dashboard").length&&(this.meter_exists=t(".llms-password-strength-meter").length,this.bind(),"orders"===this.get_screen()&&this.bind_orders())},bind:function(){var e=this,n=t('.llms-student-dashboard a[href="#llms-password-change-toggle"]');n.on("click",function(n){n.preventDefault();var s=t(this),i=s.text(),o=s.attr("data-action"),a="hide"===o?"show":"hide",r=s.attr("data-text");e.password_toggle(o),"show"===o?s.attr("tabindex","-777"):s.removeAttr("tabindex"),s.attr("data-action",a).attr("data-text",i).text(r)}),this.meter_exists?t(".llms-person-form.edit-account").on("llms-password-strength-ready",function(){e.password_toggle("hide")}):e.password_toggle("hide"),t(".llms-donut").each(function(){LLMS.Donut(t(this))})},bind_orders:function(){t("#llms-cancel-subscription-form").on("submit",this.order_cancel_warning),t("#llms_update_payment_method").on("click",function(){t('input[name="llms_payment_gateway"]:checked').trigger("change"),t(this).closest("form").find(".llms-switch-payment-source-main").slideToggle("200")})},get_screen:function(){return this.screen||(this.screen=t(".llms-student-dashboard").attr("data-current")),this.screen},order_cancel_warning:function(e){e.preventDefault();var n=LLMS.l10n.translate("Are you sure you want to cancel your subscription?");window.confirm(LLMS.l10n.translate(n))&&(t(this).off("submit",this.order_cancel_warning),t(this).submit())},password_toggle:function(e){e||(e="show");var n=this,s=t("#password, #password_confirm, #current_password"),i=t("#password").closest("form");t(".llms-change-password")[e](),"show"===e?(s.attr("required","required"),n.meter_exists&&i.on("submit",LLMS.PasswordStrength,LLMS.PasswordStrength.submit)):(s.removeAttr("required").val(""),n.meter_exists&&(i.off("submit",LLMS.PasswordStrength.submit),LLMS.PasswordStrength.check_strength()))}},LLMS.Rest={init:function(){this.bind()},bind:function(){},is_path:function(t){for(var e=!1,n=window.location.href,s=0;s<t.length;s++)n.search(t[s])>0&&!e&&(e=!0);return e},get_query_vars:function(){for(var t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<n.length;s++)t=n[s].split("="),e.push(t[0]),e[t[0]]=t[1];return e}},LLMS.init=function(){for(var t in LLMS)"object"==typeof LLMS[t]&&null!==LLMS[t]&&void 0!==LLMS[t].init&&"function"==typeof LLMS[t].init&&LLMS[t].init()},LLMS.is_touch_device=function(){var t=" -webkit- -moz- -o- -ms- ".split(" "),e=function(t){return window.matchMedia(t).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var n=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e(n)},LLMS.wait_for_matchHeight=function(e){this.wait_for(function(){return void 0!==t.fn.matchHeight},e)},LLMS.wait_for_popover=function(e){this.wait_for(function(){return void 0!==t.fn.webuiPopover},e)},LLMS.wait_for=function(t,e){var n,s=0;n=setInterval(function(){if(s>=300)console.log("could not load dependency");else{if(!t())return console.log("waiting..."),void s++;e()}clearInterval(n)},100)},LLMS.init(t)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMuanMiLCIuLi9hcHAvbGxtcy1hY2hpZXZlbWVudHMuanMiLCIuLi9hcHAvbGxtcy1hamF4LmpzIiwiLi4vYXBwL2xsbXMtZG9udXQuanMiLCIuLi9hcHAvbGxtcy1pbnN0cnVjdG9ycy5qcyIsIi4uL2FwcC9sbG1zLWwxMG4uanMiLCIuLi9hcHAvbGxtcy1sZXNzb24tcHJldmlldy5qcyIsIi4uL2FwcC9sbG1zLWxvb3BzLmpzIiwiLi4vYXBwL2xsbXMtb3V0bGluZS1jb2xsYXBzZS5qcyIsIi4uL2FwcC9sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLmpzIiwiLi4vYXBwL2xsbXMtcHJpY2luZy10YWJsZXMuanMiLCIuLi9hcHAvbGxtcy1yZXZpZXcuanMiLCIuLi9hcHAvbGxtcy1zcGlubmVyLmpzIiwiLi4vYXBwL2xsbXMtc3R1ZGVudC1kYXNoYm9hcmQuanMiLCIuLi9hcHAvcmVzdC5qcyJdLCJuYW1lcyI6WyJMTE1TIiwid2luZG93IiwiJCIsIkFjaGlldmVtZW50cyIsImluaXQiLCJzZWxmIiwidGhpcyIsImRvY3VtZW50Iiwib24iLCJiaW5kIiwibWF5YmVfb3BlbiIsImVhY2giLCJjcmVhdGVfbW9kYWwiLCIkdGhpcyIsImlkIiwiYXR0ciIsIiRtb2RhbCIsImxlbmd0aCIsIml6aU1vZGFsIiwiJGVsIiwiYXBwZW5kIiwiaGVhZGVyQ29sb3IiLCJncm91cCIsImhpc3RvcnkiLCJsb29wIiwib3ZlcmxheUNvbG9yIiwidHJhbnNpdGlvbkluIiwidHJhbnNpdGlvbk91dCIsIndpZHRoIiwib25PcGVuaW5nIiwibW9kYWwiLCJzZXRUaXRsZSIsImZpbmQiLCJodG1sIiwic2V0U3VidGl0bGUiLCJzZXRDb250ZW50Iiwib25DbG9zaW5nIiwicHVzaFN0YXRlIiwidGl0bGUiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImluZGV4T2YiLCJmaXJzdCIsInRyaWdnZXIiLCJBamF4IiwidXJsIiwiYWpheHVybCIsImxsbXMiLCJ0eXBlIiwiZGF0YSIsImNhY2hlIiwiZGF0YVR5cGUiLCJhc3luYyIsInJlc3BvbnNlIiwib2JqIiwiX2FqYXhfbm9uY2UiLCJ3cF9hamF4X2RhdGEiLCJub25jZSIsIiRSIiwiUmVzdCIsInF1ZXJ5X3ZhcnMiLCJnZXRfcXVlcnlfdmFycyIsInBvc3RfaWQiLCJwb3N0IiwidmFsIiwiY2FsbCIsInNldHRpbmdzIiwicmVxdWVzdCIsImFqYXgiLCJEb251dCIsIm9wdGlvbnMiLCJleHRlbmQiLCJlbGVtZW50IiwicGVyY2VudCIsImNpcmNsZSIsInN0cm9rZV93aWR0aCIsInBhcnNlSW50IiwiY3NzIiwicmFkaXVzIiwiYW5nbGUiLCJpIiwiTWF0aCIsInJvdW5kIiwiYW5pbWF0ZSIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJkIiwicmFkaWFucyIsIlBJIiwieCIsImNvcyIsInkiLCJzaW4iLCJjbGVhckludGVydmFsIiwiZHJhdyIsInBhdGgiLCJkb251dCIsIkluc3RydWN0b3JzIiwiaGFzQ2xhc3MiLCJ3YWl0X2Zvcl9tYXRjaEhlaWdodCIsIm1hdGNoSGVpZ2h0IiwibDEwbiIsInRyYW5zbGF0ZSIsInN0cmluZyIsInN0cmluZ3MiLCJyZXBsYWNlIiwicmVwbGFjZW1lbnRzIiwic3RyIiwidG9rZW4iLCJ2YWx1ZSIsInRvU3RyaW5nIiwiTGVzc29uUHJldmlldyIsIiRlbHMiLCIkbG9ja2VkIiwibWF0Y2hfaGVpZ2h0IiwiJHRpcCIsIm1zZyIsImdldF90b29sdGlwIiwic2V0VGltZW91dCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJMb29wcyIsIk91dGxpbmVDb2xsYXBzZSIsIiRvdXRsaW5lcyIsIiRvdXRsaW5lIiwiJGhlYWRlcnMiLCJlIiwicHJldmVudERlZmF1bHQiLCIkdG9nZ2xlIiwiJHNlY3Rpb24iLCJjbG9zZXN0Iiwic3RhdGUiLCJnZXRfc2VjdGlvbl9zdGF0ZSIsIm9wZW5fc2VjdGlvbiIsImNsb3NlX3NlY3Rpb24iLCIkYnRuIiwiYWN0aW9uIiwib3Bwb3NpdGVfYWN0aW9uIiwiUGFzc3dvcmRTdHJlbmd0aCIsIiRwYXNzIiwiJGNvbmYiLCIkbWV0ZXIiLCIkZm9ybSIsImludGVydmFsIiwiY291bnRlciIsImNvbnNvbGUiLCJsb2ciLCJ3cCIsInBhc3N3b3JkU3RyZW5ndGgiLCJzdWJtaXQiLCJhZGQiLCJjaGVja19zdHJlbmd0aCIsIiRwYXNzX2ZpZWxkIiwiJGNvbmZfZmllbGQiLCJwYXNzX2xlbmd0aCIsImNvbmZfbGVuZ3RoIiwiZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzIiwic2hvdyIsImdldF9jdXJyZW50X3N0cmVuZ3RoIiwiaGlkZSIsImNoZWNrb3V0IiwiY2FsbGJhY2siLCJnZXRfYmxhY2tsaXN0IiwiYmxhY2tsaXN0IiwidXNlcklucHV0QmxhY2tsaXN0IiwiZm9ybWF0IiwicGFzcyIsImNvbmYiLCJtZXRlciIsImdldF9zdHJlbmd0aF9zbHVnIiwiZ2V0X3N0cmVuZ3RoX3RleHQiLCJjdXJyIiwibWluIiwiZ2V0X3N0cmVuZ3RoX3ZhbHVlIiwiZ2V0X21pbmltdW1fc3RyZW5ndGgiLCJzdHJlbmd0aF92YWwiLCJzbHVncyIsIi0xIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCJ0ZXh0cyIsInN0cmVuZ3RoX3NsdWciLCJ2YWx1ZXMiLCJ0b28tc2hvcnQiLCJ2ZXJ5LXdlYWsiLCJ3ZWFrIiwibWVkaXVtIiwic3Ryb25nIiwibWlzbWF0Y2giLCJvZmYiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJmYWRlSW4iLCJQcmljaW5nX1RhYmxlcyIsIndhaXRfZm9yX3BvcG92ZXIiLCJiaW5kX2xvY2tlZCIsIndlYnVpUG9wb3ZlciIsImFuaW1hdGlvbiIsImNsb3NlYWJsZSIsImNvbnRlbnQiLCIkY29udGVudCIsIiRlbGVtZW50IiwiY2xvbmUiLCJwbGFjZW1lbnQiLCJzdHlsZSIsIlJldmlldyIsImNsaWNrIiwialF1ZXJ5IiwicmV2aWV3X3RpdGxlIiwicmV2aWV3X3RleHQiLCJwYWdlSUQiLCJzdWNjZXNzIiwiZXJyb3IiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImNoYW5nZSIsIlNwaW5uZXIiLCJnZXQiLCJzaXplIiwiJHNwaW5uZXIiLCJzdGFydCIsInN0b3AiLCJTdHVkZW50RGFzaGJvYXJkIiwic2NyZWVuIiwibWV0ZXJfZXhpc3RzIiwiZ2V0X3NjcmVlbiIsImJpbmRfb3JkZXJzIiwiY3Vycl90ZXh0IiwidGV4dCIsImN1cnJfYWN0aW9uIiwibmV3X2FjdGlvbiIsIm5ld190ZXh0IiwicGFzc3dvcmRfdG9nZ2xlIiwicmVtb3ZlQXR0ciIsIm9yZGVyX2NhbmNlbF93YXJuaW5nIiwic2xpZGVUb2dnbGUiLCJjb25maXJtIiwiJHB3ZHMiLCJpc19wYXRoIiwicGF0aF9leGlzdHMiLCJocmVmIiwidmFycyIsImhhc2hlcyIsInNsaWNlIiwic3BsaXQiLCJwdXNoIiwiZnVuYyIsInVuZGVmaW5lZCIsImlzX3RvdWNoX2RldmljZSIsInByZWZpeGVzIiwibXEiLCJxdWVyeSIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiRG9jdW1lbnRUb3VjaCIsImpvaW4iLCJjYiIsIndhaXRfZm9yIiwiZm4iLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiQUFPQSxHQUFBQSxNQUFBQyxPQUFBRCxVQUNBLFNBQUFFLEdBRUEsWUNEQUYsTUFBQUcsY0FRQUMsS0FBQSxXQUVBLEdBQUFDLEdBQUFDLElBRUFKLEdBQUEsc0JBQ0FBLEVBQUFLLFVBQUFDLEdBQUEsUUFBQSxXQUNBSCxFQUFBSSxPQUNBSixFQUFBSyxnQkFZQUQsS0FBQSxXQUVBLEdBQUFKLEdBQUFDLElBRUFKLEdBQUEscUJBQUFTLEtBQUEsV0FFQU4sRUFBQU8sYUFBQVYsRUFBQUksU0FJQUosRUFBQSxxQkFBQU0sR0FBQSxRQUFBLFdBRUEsR0FBQUssR0FBQVgsRUFBQUksTUFDQVEsRUFBQSxlQUFBRCxFQUFBRSxLQUFBLFdBQ0FDLEVBQUFkLEVBQUEsSUFBQVksRUFFQUUsR0FBQUMsUUFDQVosRUFBQU8sYUFBQUMsR0FHQUcsRUFBQUUsU0FBQSxXQWFBTixhQUFBLFNBQUFPLEdBRUEsR0FB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QUMsR0FBQSw0QkFBQUwsTUFBQSxLQUNBTSxFQUFBLFNBQUFDLEdBQ0EsTUFBQWpRLFFBQUFrUSxXQUFBRCxHQUFBRSxRQUdBLElBQUEsZ0JBQUFuUSxTQUFBQSxPQUFBb1EsZUFBQTlQLG1CQUFBOFAsZUFDQSxPQUFBLENBS0EsSUFBQUgsSUFBQSxJQUFBRixFQUFBTSxLQUFBLG9CQUFBLFNBQUEsS0FBQUEsS0FBQSxHQUNBLE9BQUFMLEdBQUFDLElBV0FsUSxLQUFBcUcscUJBQUEsU0FBQWtLLEdBQ0FqUSxLQUFBa1EsU0FBQSxXQUNBLE1BQUFWLFVBQUE1UCxFQUFBdVEsR0FBQW5LLGFBQ0FpSyxJQVVBdlEsS0FBQXdNLGlCQUFBLFNBQUErRCxHQUNBalEsS0FBQWtRLFNBQUEsV0FDQSxNQUFBVixVQUFBNVAsRUFBQXVRLEdBQUEvRCxjQUNBNkQsSUFZQXZRLEtBQUF3USxTQUFBLFNBQUFFLEVBQUFILEdBRUEsR0FDQXRILEdBREFDLEVBQUEsQ0FHQUQsR0FBQTFELFlBQUEsV0FHQSxHQUFBMkQsR0FBQSxJQUVBQyxRQUFBQyxJQUFBLGlDQUdBLENBR0EsSUFBQXNILElBUUEsTUFGQXZILFNBQUFDLElBQUEsa0JBQ0FGLElBTEFxSCxLQVlBeEssY0FBQWtELElBRUEsTUFJQWpKLEtBQUFJLEtBQUFGLElBR0FtTiIsImZpbGUiOiJsbG1zLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogQ29udHJpYnV0b3IncyBOb3RpY2VcbiAqIFxuICogVGhpcyBpcyBhIGNvbXBpbGVkIGZpbGUgYW5kIHNob3VsZCBub3QgYmUgZWRpdGVkIGRpcmVjdGx5IVxuICogVGhlIHVuY29tcGlsZWQgc2NyaXB0IGlzIGxvY2F0ZWQgaW4gdGhlIFwiYXNzZXRzL3ByaXZhdGVcIiBkaXJlY3RvcnlcbiAqIFxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogTWFpbiBMTE1TIE5hbWVzcGFjZVxuICpcbiAqIEB0eXBlICAgICB7T2JqZWN0fVxuICogQHNpbmNlICAgIDEuMC4wXG4gKiBAdmVyc2lvbiAgMy4yNC4zXG4gKi9cbnZhciBMTE1TID0gd2luZG93LkxMTVMgfHwge307XG4oZnVuY3Rpb24oJCl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBsb2FkIGFsbCBhcHAgbW9kdWxlc1xuXHQgKi9cblx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0XG5cdC8qKlxuXHQgKiBGcm9udCBFbmQgQWNoaWV2ZW1lbnRzXG5cdCAqIEB0eXBlICAgICB7T2JqZWN0fVxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdExMTVMuQWNoaWV2ZW1lbnRzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1hY2hpZXZlbWVudCcgKSApIHtcblx0XHRcdFx0JCggZG9jdW1lbnQgKS5vbiggJ3JlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdFx0c2VsZi5tYXliZV9vcGVuKCk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmNyZWF0ZV9tb2RhbCggJCggdGhpcyApICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHRcdCQoICcubGxtcy1hY2hpZXZlbWVudCcgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHR2YXIgJHRoaXMgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0aWQgPSAnYWNoaWV2ZW1lbnQtJyArICR0aGlzLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHRcdCRtb2RhbCA9ICQoICcjJyArIGlkICk7XG5cdFxuXHRcdFx0XHRpZiAoICEkbW9kYWwubGVuZ3RoICkge1xuXHRcdFx0XHRcdHNlbGYuY3JlYXRlX21vZGFsKCAkdGhpcyApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQkbW9kYWwuaXppTW9kYWwoICdvcGVuJyApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBtb2RhbCBhIG1vZGFsIGZvciBhbiBhY2hpZW12ZW1lbnRcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBtb2RhbCBjYXJkXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdGNyZWF0ZV9tb2RhbDogZnVuY3Rpb24oICRlbCApIHtcblx0XG5cdFx0XHR2YXIgaWQgPSAnYWNoaWV2ZW1lbnQtJyArICRlbC5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblx0XG5cdFx0XHRpZiAoICEkbW9kYWwubGVuZ3RoICkge1xuXHRcdFx0XHQkbW9kYWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtYWNoaWV2ZW1lbnQtbW9kYWxcIiBpZD1cIicgKyBpZCArICdcIiAvPicgKTtcblx0XHRcdFx0JCggJ2JvZHknICkuYXBwZW5kKCAkbW9kYWwgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQkbW9kYWwuaXppTW9kYWwoIHtcblx0XHRcdFx0aGVhZGVyQ29sb3I6ICcjM2EzYTNhJyxcblx0XHRcdFx0Z3JvdXA6ICdhY2hpZXZlbWVudHMnLFxuXHRcdFx0XHRoaXN0b3J5OiB0cnVlLFxuXHRcdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0XHRvdmVybGF5Q29sb3I6ICdyZ2JhKCAwLCAwLCAwLCAwLjYgKScsXG5cdFx0XHRcdHRyYW5zaXRpb25JbjogJ2ZhZGVJbkRvd24nLFxuXHRcdFx0XHR0cmFuc2l0aW9uT3V0OiAnZmFkZU91dERvd24nLFxuXHRcdFx0XHR3aWR0aDogMzQwLFxuXHRcdFx0XHRvbk9wZW5pbmc6IGZ1bmN0aW9uKCBtb2RhbCApIHtcblx0XG5cdFx0XHRcdFx0bW9kYWwuc2V0VGl0bGUoICRlbC5maW5kKCAnLmxsbXMtYWNoaWV2ZW1lbnQtdGl0bGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdFx0bW9kYWwuc2V0U3VidGl0bGUoICRlbC5maW5kKCAnLmxsbXMtYWNoaWV2ZW1lbnQtZGF0ZScgKS5odG1sKCkgKTtcblx0XHRcdFx0XHRtb2RhbC5zZXRDb250ZW50KCAnPGRpdiBjbGFzcz1cImxsbXMtYWNoaWV2ZW1lbnRcIj4nICsgJGVsLmh0bWwoKSArICc8L2Rpdj4nICk7XG5cdFxuXHRcdFx0XHR9LFxuXHRcblx0XHRcdFx0b25DbG9zaW5nOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoICcnLCBkb2N1bWVudC50aXRsZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCApO1xuXHRcdFx0XHR9LFxuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogT24gcGFnZSBsb2FkLCBvcGVucyBhIG1vZGFsIGlmIHRoZSBVUkwgY29udGFpbnMgYW4gYWNoaWV2ZW1lbnQgaW4gdGhlIGxvY2F0aW9uIGhhc2hcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0bWF5YmVfb3BlbjogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdGlmICggaGFzaCAmJiAtMSAhPT0gaGFzaC5pbmRleE9mKCAnYWNoaWV2ZW1lbnQtJyApICkge1xuXHRcdFx0XHQkKCAnYVtocmVmPVwiJyArIGhhc2ggKyAnXCJdJykuZmlyc3QoKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0XHR9XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkLCB3cF9hamF4X2RhdGEgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0XG5cdC8qKlxuXHQgKiBNYWluIEFqYXggY2xhc3Ncblx0ICogSGFuZGxlcyBQcmltYXJ5IEFqYXggY29ubmVjdGlvblxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0TExNUy5BamF4ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiB1cmxcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdHVybDogd2luZG93LmFqYXh1cmwgfHwgd2luZG93LmxsbXMuYWpheHVybCxcblx0XG5cdFx0LyoqXG5cdFx0ICogdHlwZVxuXHRcdCAqIEB0eXBlIHtbdHlwZV19XG5cdFx0ICovXG5cdFx0dHlwZTogJ3Bvc3QnLFxuXHRcblx0XHQvKipcblx0XHQgKiBkYXRhXG5cdFx0ICogQHR5cGUge1t0eXBlXX1cblx0XHQgKi9cblx0XHRkYXRhOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogY2FjaGVcblx0XHQgKiBAdHlwZSB7W3R5cGVdfVxuXHRcdCAqL1xuXHRcdGNhY2hlOiBmYWxzZSxcblx0XG5cdFx0LyoqXG5cdFx0ICogZGF0YVR5cGVcblx0XHQgKiBkZWZhdWx0ZWQgdG8ganNvblxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XG5cdFx0LyoqXG5cdFx0ICogYXN5bmNcblx0XHQgKiBkZWZhdWx0IHRvIGZhbHNlXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0YXN5bmM6IHRydWUsXG5cdFxuXHRcdHJlc3BvbnNlOltdLFxuXHRcblx0XHQvKipcblx0XHQgKiBpbml0aWxpemUgQWpheCBtZXRob2RzXG5cdFx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKG9iaikge1xuXHRcblx0XHRcdC8vaWYgb2JqIGlzIG5vdCBvZiB0eXBlIG9iamVjdCBvciBudWxsIHJldHVybiBmYWxzZTtcblx0XHRcdGlmKCBvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvL3NldCBvYmplY3QgZGVmYXVsdHMgaWYgdmFsdWVzIGFyZSBub3Qgc3VwcGxpZWRcblx0XHRcdG9iai51cmxcdFx0XHQ9ICd1cmwnICAgICAgICAgaW4gb2JqID8gb2JqLnVybCAgICAgICAgOiB0aGlzLnVybDtcblx0XHRcdG9iai50eXBlIFx0XHQ9ICd0eXBlJyBcdFx0aW4gb2JqID8gb2JqLnR5cGUgXHRcdDogdGhpcy50eXBlO1xuXHRcdFx0b2JqLmRhdGEgXHRcdD0gJ2RhdGEnIFx0XHRpbiBvYmogPyBvYmouZGF0YSBcdFx0OiB0aGlzLmRhdGE7XG5cdFx0XHRvYmouY2FjaGUgXHRcdD0gJ2NhY2hlJyBcdFx0aW4gb2JqID8gb2JqLmNhY2hlIFx0XHQ6IHRoaXMuY2FjaGU7XG5cdFx0XHRvYmouZGF0YVR5cGUgXHQ9ICdkYXRhVHlwZSdcdGluIG9iaiA/IG9iai5kYXRhVHlwZSBcdDogdGhpcy5kYXRhVHlwZTtcblx0XHRcdG9iai5hc3luYyBcdFx0PSAnYXN5bmMnXHRcdGluIG9iaiA/IG9iai5hc3luYyBcdFx0OiB0aGlzLmFzeW5jO1xuXHRcblx0XHRcdC8vYWRkIG5vbmNlIHRvIGRhdGEgb2JqZWN0XG5cdFx0XHRvYmouZGF0YS5fYWpheF9ub25jZSA9IHdwX2FqYXhfZGF0YS5ub25jZTtcblx0XG5cdFx0XHQvL2FkZCBwb3N0IGlkIHRvIGRhdGEgb2JqZWN0XG5cdFx0XHR2YXIgJFIgPSBMTE1TLlJlc3QsXG5cdFx0XHRxdWVyeV92YXJzID0gJFIuZ2V0X3F1ZXJ5X3ZhcnMoKTtcblx0XHRcdG9iai5kYXRhLnBvc3RfaWQgPSAncG9zdCcgaW4gcXVlcnlfdmFycyA/IHF1ZXJ5X3ZhcnMucG9zdCA6IG51bGw7XG5cdFx0XHRpZiAoICFvYmouZGF0YS5wb3N0X2lkICYmICQoICdpbnB1dCNwb3N0X0lEJyApLmxlbmd0aCApIHtcblx0XHRcdFx0b2JqLmRhdGEucG9zdF9pZCA9ICQoICdpbnB1dCNwb3N0X0lEJyApLnZhbCgpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2FsbFxuXHRcdCAqIENhbGxlZCBieSBleHRlcm5hbCBjbGFzc2VzXG5cdFx0ICogU2V0cyB1cCBqUXVlcnkgQWpheCBvYmplY3Rcblx0XHQgKiBAcGFyYW0gIHtbb2JqZWN0XX0gW29iamVjdCBvZiBhamF4IHNldHRpbmdzXVxuXHRcdCAqIEByZXR1cm4ge1ttaXhlZF19IFtmYWxzZSBpZiBub3Qgb2JqZWN0IG9yIHRoaXNdXG5cdFx0ICovXG5cdFx0Y2FsbDogZnVuY3Rpb24ob2JqKSB7XG5cdFxuXHRcdFx0Ly9nZXQgZGVmYXVsdCB2YXJpYWJsZXMgaWYgbm90IGluY2x1ZGVkIGluIGNhbGxcblx0XHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuaW5pdChvYmopO1xuXHRcblx0XHRcdC8vaWYgaW5pdCByZXR1cm4gYSByZXNwb25zZSBvZiBmYWxzZVxuXHRcdFx0aWYgKCFzZXR0aW5ncykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnJlcXVlc3Qoc2V0dGluZ3MpO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxscyBqUXVlcnkgQWpheCBvbiBzZXR0aW5ncyBvYmplY3Rcblx0XHQgKiBAcmV0dXJuIHtbb2JqZWN0XX0gW3RoaXNdXG5cdFx0ICovXG5cdFx0cmVxdWVzdDogZnVuY3Rpb24oc2V0dGluZ3MpIHtcblx0XG5cdFx0XHQkLmFqYXgoc2V0dGluZ3MpO1xuXHRcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUyAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSBhIERvbnV0IENoYXJ0XG5cdCAqIEBzb3VyY2UgICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qb2V5aW5ib3gvODIwNTk2MlxuXHQgKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgZWxlbWVudCB0byBkcmF3IGEgY2hhcnQgd2l0aGluXG5cdCAqIEBzaW5jZSAgICAzLjkuMFxuXHQgKiBAdmVyc2lvbiAgMy45LjBcblx0ICovXG5cdExMTVMuRG9udXQgPSBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRmdW5jdGlvbiBEb251dChvcHRpb25zKSB7XG5cdFxuXHRcdFx0dGhpcy5zZXR0aW5ncyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRcdGVsZW1lbnQ6IG9wdGlvbnMuZWxlbWVudCxcblx0XHRcdFx0cGVyY2VudDogMTAwXG5cdFx0XHR9LCBvcHRpb25zICk7XG5cdFxuXHRcdFx0dGhpcy5jaXJjbGUgPSB0aGlzLnNldHRpbmdzLmVsZW1lbnQuZmluZCggJ3BhdGgnICk7XG5cdFx0XHR0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCA9IHBhcnNlSW50KCB0aGlzLmNpcmNsZS5jc3MoICdzdHJva2Utd2lkdGgnICkgKTtcblx0XHRcdHRoaXMucmFkaXVzID0gKCBwYXJzZUludCggdGhpcy5zZXR0aW5ncy5lbGVtZW50LmNzcyggJ3dpZHRoJyApICkgLSB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCApIC8gMjtcblx0XHRcdHRoaXMuYW5nbGUgPSAtOTcuNTsgLy8gT3JpZ2luIG9mIHRoZSBkcmF3IGF0IHRoZSB0b3Agb2YgdGhlIGNpcmNsZVxuXHRcdFx0dGhpcy5pID0gTWF0aC5yb3VuZCggMC43NSAqIHRoaXMuc2V0dGluZ3MucGVyY2VudCApO1xuXHRcdFx0dGhpcy5maXJzdCA9IHRydWU7XG5cdFxuXHRcdFx0dGhpcy5hbmltYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCggdGhpcy5sb29wLmJpbmQoIHRoaXMgKSwgMTAgKTtcblx0XHRcdH07XG5cdFxuXHRcdFx0dGhpcy5sb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuYW5nbGUgKz0gNTtcblx0XHRcdFx0dGhpcy5hbmdsZSAlPSAzNjA7XG5cdFx0XHRcdHZhciByYWRpYW5zID0gKCB0aGlzLmFuZ2xlIC8gMTgwICkgKiBNYXRoLlBJLFxuXHRcdFx0XHRcdHggPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguY29zKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0XHR5ID0gdGhpcy5yYWRpdXMgKyB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCAvIDIgKyBNYXRoLnNpbiggcmFkaWFucyApICogdGhpcy5yYWRpdXMsXG5cdFx0XHRcdFx0ZDtcblx0XHRcdFx0aWYgKHRoaXMuZmlyc3QgPT09IHRydWUpIHtcblx0XHRcdFx0XHRkID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIE0gJyArIHggKyAnICcgKyB5O1xuXHRcdFx0XHRcdHRoaXMuZmlyc3QgPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIEwgJyArIHggKyAnICcgKyB5O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuY2lyY2xlLmF0dHIoICdkJywgZCApO1xuXHRcdFx0XHR0aGlzLmktLTtcblx0XG5cdFx0XHRcdGlmKHRoaXMuaTw9MCkge1xuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiBkcmF3KCAkZWwgKSB7XG5cdFx0XHR2YXIgcGF0aCA9ICc8cGF0aCBkPVwiTTEwMCwxMDBcIiAvPic7XG5cdFx0XHQkZWwuYXBwZW5kKCAnPHN2ZyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWRcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj4nICsgcGF0aCArICc8L3N2Zz4nICk7XG5cdFx0XHR2YXIgZG9udXQgPSBuZXcgRG9udXQoIHtcblx0XHRcdFx0ZWxlbWVudDogJGVsLFxuXHRcdFx0XHRwZXJjZW50OiAkZWwuYXR0cignZGF0YS1wZXJjJylcblx0XHRcdH0gKTtcblx0XHRcdGRvbnV0LmFuaW1hdGUoKTtcblx0XHR9XG5cdFxuXHRcdGRyYXcoICRlbCApO1xuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0LyoqXG5cdCAqIEluc3RydWN0b3JzIExpc3Rcblx0ICovXG5cdExMTVMuSW5zdHJ1Y3RvcnMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIGluaXRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtaW5zdHJ1Y3RvcnMnICkubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgTWV0aG9kXG5cdFx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWluc3RydWN0b3JzIC5sbG1zLWF1dGhvcicgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMgKi9cblx0XG5cdC8qKlxuXHQgKiBMb2NhbGl6YXRpb24gZnVuY3Rpb25zIGZvciBMaWZ0ZXJMTVMgSmF2YXNjcmlwdFxuXHQgKlxuXHQgKiBAdG9kbyAgd2UgbmVlZCBtb3JlIHJvYnVzdCB0cmFuc2xhdGlvbiBmdW5jdGlvbnMgdG8gaGFuZGxlIHNwcmludGYgYW5kIHBsdXJhbGl6YXRpb25cblx0ICogICAgICAgIGF0IHRoaXMgbW9tZW50IHdlIGRvbid0IG5lZWQgdGhvc2UgYW5kIGhhdmVuJ3Qgc3R1YmJlZCB0aGVtIG91dFxuXHQgKiAgICAgICAgdGhvc2Ugd2lsbCBiZSBhZGRlZCB3aGVuIHRoZXkncmUgbmVlZGVkXG5cdCAqXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKlxuXHQgKiBAc2luY2UgIDIuNy4zXG5cdCAqL1xuXHRMTE1TLmwxMG4gPSBMTE1TLmwxMG4gfHwge307XG5cdFxuXHRMTE1TLmwxMG4udHJhbnNsYXRlID0gZnVuY3Rpb24gKCBzdHJpbmcgKSB7XG5cdFxuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0aWYgKCBzZWxmLnN0cmluZ3Nbc3RyaW5nXSApIHtcblx0XG5cdFx0XHRyZXR1cm4gc2VsZi5zdHJpbmdzW3N0cmluZ107XG5cdFxuXHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0cmV0dXJuIHN0cmluZztcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUcmFuc2xhdGUgYW5kIHJlcGxhY2UgcGxhY2Vob2xkZXJzIGluIGEgc3RyaW5nXG5cdCAqXG5cdCAqIEBleGFtcGxlIExMTVMubDEwbi5yZXBsYWNlKCAnVGhpcyBpcyBhICUyJHMgJTEkcyBTdHJpbmcnLCB7XG5cdCAqICAgICAgICAgICBcdCclMSRzJzogJ2Nvb2wnLFxuXHQgKiAgICBcdFx0XHQnJTIkcyc6ICd2ZXJ5J1xuXHQgKiAgICBcdFx0fSApO1xuXHQgKiAgICBcdFx0T3V0cHV0OiBcIlRoaXMgaXMgYSB2ZXJ5IGNvb2wgU3RyaW5nXCJcblx0ICpcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIHN0cmluZyAgICAgICAgdGV4dCBzdHJpbmdcblx0ICogQHBhcmFtICAgIG9iamVjdCAgIHJlcGxhY2VtZW50cyAgb2JqZWN0IGNvbnRhaW5pbmcgdG9rZW4gPT4gcmVwbGFjZW1lbnQgcGFpcnNcblx0ICogQHJldHVybiAgIHN0cmluZ1xuXHQgKiBAc2luY2UgICAgMy4xNi4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjBcblx0ICovXG5cdExMTVMubDEwbi5yZXBsYWNlID0gZnVuY3Rpb24oIHN0cmluZywgcmVwbGFjZW1lbnRzICkge1xuXHRcblx0XHR2YXIgc3RyID0gdGhpcy50cmFuc2xhdGUoIHN0cmluZyApO1xuXHRcblx0XHQkLmVhY2goIHJlcGxhY2VtZW50cywgZnVuY3Rpb24oIHRva2VuLCB2YWx1ZSApIHtcblx0XG5cdFx0XHRpZiAoIC0xICE9PSB0b2tlbi5pbmRleE9mKCAncycgKSApIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdFx0fSBlbHNlIGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdkJyApICkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlICogMTtcblx0XHRcdH1cblx0XG5cdFx0XHRzdHIgPSBzdHIucmVwbGFjZSggdG9rZW4sIHZhbHVlICk7XG5cdFxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIHN0cjtcblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKipcblx0ICogSGFuZGxlIExlc3NvbiBQcmV2aWV3IEVsZW1lbnRzXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHQgKi9cblx0TExNUy5MZXNzb25QcmV2aWV3ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBqUXVlcnkgb2JqZWN0IG9mIGFsbCBvdXRsaW5lcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHRcdCAqIEB0eXBlIG9ialxuXHRcdCAqL1xuXHRcdCRlbHM6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpbGl6ZVxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtbGVzc29uLWxvY2tlZFwiXScgKTtcblx0XG5cdFx0XHRpZiAoIHRoaXMuJGxvY2tlZC5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24nICkubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRcdGlmICggISR0aXAubGVuZ3RoICkge1xuXHRcdFx0XHRcdHZhciBtc2cgPSAkKCB0aGlzICkuYXR0ciggJ2RhdGEtdG9vbHRpcC1tc2cnICk7XG5cdFx0XHRcdFx0aWYgKCAhbXNnICkge1xuXHRcdFx0XHRcdFx0bXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGNvbnRlbnQnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCR0aXAgPSBzZWxmLmdldF90b29sdGlwKCBtc2cgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuYXBwZW5kKCAkdGlwICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JHRpcC5hZGRDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHRcdH0sIDEwICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGlwID0gJCggdGhpcyApLmZpbmQoICcubGxtcy10b29sdGlwJyApO1xuXHRcdFx0XHQkdGlwLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgbGVzc29uIHByZXZpZXcgaXRlbXMgaW4gY291cnNlIG5hdmlnYXRpb24gYmxvY2tzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1jb3Vyc2UtbmF2aWdhdGlvbiAubGxtcy1sZXNzb24tbGluaycgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgYSB0b29sdGlwIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgbXNnICAgbWVzc2FnZSB0byBkaXNwbGF5IGluc2lkZSB0aGUgdG9vbHRpcFxuXHRcdCAqIEByZXR1cm4gICBvYmpcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjRcblx0XHQgKi9cblx0XHRnZXRfdG9vbHRpcDogZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHZhciAkZWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtdG9vbHRpcFwiIC8+JyApO1xuXHRcdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdFx0cmV0dXJuICRlbDtcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBMaWZ0ZXJMTVMgTG9vcHMgSlNcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICBbdmVyc2lub11cblx0ICovXG5cdExMTVMuTG9vcHMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpbGl6ZVxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1sb29wJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRzZWxmLm1hdGNoX2hlaWdodCgpO1xuXHRcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogTWF0Y2ggdGhlIGhlaWdodCBvZiAubGxtcy1sb29wLWl0ZW1cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1sb29wLWl0ZW0gLmxsbXMtbG9vcC1pdGVtLWNvbnRlbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHRcdCQoICcubGxtcy1hY2hpZXZlbWVudC1sb29wLWl0ZW0gLmxsbXMtYWNoaWV2ZW1lbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHRcdCQoICcubGxtcy1jZXJ0aWZpY2F0ZS1sb29wLWl0ZW0gLmxsbXMtY2VydGlmaWNhdGUnICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKipcblx0ICogSGFuZGxlIHRoZSBDb2xscGFzaWJsZSBTeWxsYWJ1cyBXaWRnZXQgLyBTaG9ydGNvZGVcblx0ICovXG5cdExMTVMuT3V0bGluZUNvbGxhcHNlID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBqUXVlcnkgb2JqZWN0IG9mIGFsbCBvdXRsaW5lcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHRcdCAqIEB0eXBlIG9ialxuXHRcdCAqL1xuXHRcdCRvdXRsaW5lczogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlsaXplXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dGhpcy4kb3V0bGluZXMgPSAkKCAnLmxsbXMtd2lkZ2V0LXN5bGxhYnVzLS1jb2xsYXBzaWJsZScgKTtcblx0XG5cdFx0XHRpZiAoIHRoaXMuJG91dGxpbmVzLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHRoaXMuYmluZCgpO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdHRoaXMuJG91dGxpbmVzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICRvdXRsaW5lID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRoZWFkZXJzID0gJG91dGxpbmUuZmluZCggJy5sbG1zLXNlY3Rpb24gLnNlY3Rpb24taGVhZGVyJyApO1xuXHRcblx0XHRcdFx0Ly8gYmluZCBoZWFkZXIgY2xpY2tzXG5cdFx0XHRcdCRoZWFkZXJzLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdFx0XHR2YXIgJHRvZ2dsZSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRcdCRzZWN0aW9uID0gJHRvZ2dsZS5jbG9zZXN0KCAnLmxsbXMtc2VjdGlvbicgKSxcblx0XHRcdFx0XHRcdHN0YXRlID0gc2VsZi5nZXRfc2VjdGlvbl9zdGF0ZSggJHNlY3Rpb24gKTtcblx0XG5cdFx0XHRcdFx0c3dpdGNoKCBzdGF0ZSApIHtcblx0XG5cdFx0XHRcdFx0XHRjYXNlICdjbG9zZWQnOlxuXHRcdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRcdHNlbGYuY2xvc2Vfc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHQvLyBiaW5kIG9wdGlvbmFsIHRvZ2dsZSBcImJ1dHRvbnNcIlxuXHRcdFx0XHQkb3V0bGluZS5maW5kKCAnLmxsbXMtY29sbGFwc2UtdG9nZ2xlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdFx0XHR2YXIgJGJ0biA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRcdGFjdGlvbiA9ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0b3Bwb3NpdGVfYWN0aW9uID0gKCAnY2xvc2UnID09PSBhY3Rpb24gKSA/ICdvcGVuZWQnIDogJ2Nsb3NlZCc7XG5cdFxuXHRcdFx0XHRcdCRoZWFkZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRcdHZhciAkc2VjdGlvbiA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtc2VjdGlvbicgKSxcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggb3Bwb3NpdGVfYWN0aW9uICE9PSBzdGF0ZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0c3dpdGNoKCBzdGF0ZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5jbG9zZV9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5vcGVuX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkudHJpZ2dlciggJ2NsaWNrJyApO1xuXHRcblx0XHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDbG9zZSBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGNsb3NlX3NlY3Rpb246IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblx0XG5cdFx0XHQkc2VjdGlvbi5yZW1vdmVDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApLmFkZENsYXNzKCAnbGxtcy1zZWN0aW9uLS1jbG9zZWQnICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE9wZW4gYW4gb3V0bGluZSBzZWN0aW9uXG5cdFx0ICogQHBhcmFtICBvYmogICAgJHNlY3Rpb24gICBqUXVlcnkgc2VsZWN0b3Igb2YgYSAnLmxsbXMtc2VjdGlvbidcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRvcGVuX3NlY3Rpb246IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblx0XG5cdFx0XHQkc2VjdGlvbi5yZW1vdmVDbGFzcyggJ2xsbXMtc2VjdGlvbi0tY2xvc2VkJyApLmFkZENsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgY3VycmVudCBzdGF0ZSAob3BlbiBvciBjbG9zZWQpIG9mIGFuIG91dGxpbmUgc2VjdGlvblxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiBzdHJpbmcgICAgICAgICAgICAnb3BlbmVkJyBvciAnY2xvc2VkJ1xuXHRcdCAqL1xuXHRcdGdldF9zZWN0aW9uX3N0YXRlOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cdFxuXHRcdFx0cmV0dXJuICRzZWN0aW9uLmhhc0NsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkgPyAnb3BlbmVkJyA6ICdjbG9zZWQnO1xuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUywgJCwgd3AgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0XG5cdC8qKlxuXHQgKiBIYW5kbGUgUGFzc3dvcmQgU3RyZW5ndGggTWV0ZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgcGFzc3dvcmQgdXBkYXRlIGZpZWxkc1xuXHQgKiBAc2luY2UgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuNy4wXG5cdCAqL1xuXHRcblx0JC5leHRlbmQoIExMTVMuUGFzc3dvcmRTdHJlbmd0aCwge1xuXHRcblx0XHQkcGFzczogJCggJy5sbG1zLXBhc3N3b3JkJyApLFxuXHRcdCRjb25mOiAkKCAnLmxsbXMtcGFzc3dvcmQtY29uZmlybScgKSxcblx0XHQkbWV0ZXI6ICQoICcubGxtcy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcicgKSxcblx0XHQkZm9ybTogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogaW5pdFxuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy43LjBcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHRoaXMuJG1ldGVyLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHRoaXMuJGZvcm0gPSB0aGlzLiRwYXNzLmNsb3Nlc3QoICdmb3JtJyApO1xuXHRcblx0XHRcdFx0Ly8gb3VyIGFzc2V0IGVucXVldWUgaXMgYWxsIHNjcmV3ZWQgdXAgYW5kIEknbSB0b28gdGlyZWQgdG8gZml4IGl0XG5cdFx0XHRcdC8vIHNvIHdlJ3JlIGdvaW5nIHRvIHJ1biB0aGlzIGxpdHRsZSBkZXBlbmRlbmN5IGNoZWNrXG5cdFx0XHRcdC8vIGFuZCB3YWl0IGZvciBtYXRjaEhlaWdodCB0byBiZSBhdmFpbGFibGUgYmVmb3JlIGJpbmRpbmdcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRcdGNvdW50ZXIgPSAwLFxuXHRcdFx0XHRcdGludGVydmFsO1xuXHRcblx0XHRcdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdC8vIGlmIHdlIGdldCB0byAzMCBzZWNvbmRzIGxvZyBhbiBlcnJvciBtZXNzYWdlXG5cdFx0XHRcdFx0Ly8gYW5kIHJlYWxseSB3aG8gY2FyZXMgaWYgdGhlIGVsZW1lbnQgaGVpZ2h0cyBhcmVuJ3QgbWF0Y2hlZFxuXHRcdFx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coICdjYW5ub3QgZG8gcGFzc3dvcmQgc3RyZW5ndGggbWV0ZXIuJyk7XG5cdFxuXHRcdFx0XHRcdC8vIGlmIHdlIGNhbid0IGFjY2VzcyB5ZSwgaW5jcmVtZW50IGFuZCB3YWl0Li4uXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB3cCAmJiAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHdwLnBhc3N3b3JkU3RyZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcblx0XHRcdFx0XHQvLyBiaW5kIHRoZSBldmVudHMsIHdlJ3JlIGdvb2QhXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ2xsbXMtcGFzc3dvcmQtc3RyZW5ndGgtcmVhZHknICk7XG5cdFxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggaW50ZXJ2YWwgKTtcblx0XG5cdFx0XHRcdH0sIDEwMCApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0Ly8gYWRkIHN1Ym1pc3Npb24gZXZlbnQgaGFuZGxlcnMgd2hlbiBub3Qgb24gYSBjaGVja291dCBmb3JtXG5cdFx0XHRpZiAoICF0aGlzLiRmb3JtLmhhc0NsYXNzKCAnbGxtcy1jaGVja291dCcgKSApIHtcblx0XHRcdFx0dGhpcy4kZm9ybS5vbiggJ3N1Ym1pdCcsIHNlbGYsIHNlbGYuc3VibWl0ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gY2hlY2sgcGFzc3dvcmQgc3RyZW5ndGggb24ga2V5dXBcblx0XHRcdHNlbGYuJHBhc3MuYWRkKCBzZWxmLiRjb25mICkub24oICdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmNoZWNrX3N0cmVuZ3RoKCk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENoZWNrIHRoZSBzdHJlbmd0aCBvZiBhIHVzZXIgZW50ZXJlZCBwYXNzd29yZFxuXHRcdCAqIGFuZCB1cGRhdGUgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IHN0cmVuZ3RoXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRjaGVja19zdHJlbmd0aDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyICRwYXNzX2ZpZWxkID0gdGhpcy4kcGFzcy5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdFx0JGNvbmZfZmllbGQgPSB0aGlzLiRjb25mLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLFxuXHRcdFx0XHRwYXNzX2xlbmd0aCA9IHRoaXMuJHBhc3MudmFsKCkubGVuZ3RoLFxuXHRcdFx0XHRjb25mX2xlbmd0aCA9IHRoaXMuJGNvbmYudmFsKCkubGVuZ3RoO1xuXHRcblx0XHRcdC8vIGhpZGUgdGhlIG1ldGVyIGlmIGJvdGggZmllbGRzIGFyZSBlbXB0eVxuXHRcdFx0aWYgKCAhcGFzc19sZW5ndGggJiYgIWNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQgaW52YWxpZCcgKTtcblx0XHRcdFx0dGhpcy4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdFx0aWYgKCBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdGlmICggY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHR0aGlzLiRtZXRlci5yZW1vdmVDbGFzcyggJ3Rvby1zaG9ydCB2ZXJ5LXdlYWsgd2VhayBtZWRpdW0gc3Ryb25nIG1pc21hdGNoJyApO1xuXHRcdFx0dGhpcy4kbWV0ZXIuc2hvdygpLmFkZENsYXNzKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCAnc2x1ZycgKSApO1xuXHRcdFx0dGhpcy4kbWV0ZXIuaHRtbCggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3RleHQnICkgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogZm9ybSBzdWJtaXNzaW9uIGFjdGlvbiBjYWxsZWQgZHVyaW5nIHJlZ2lzdHJhdGlvbiBvbiBjaGVja291dCBzY3JlZW5cblx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAgIHNlbGYgICAgICBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzXG5cdFx0ICogQHBhcmFtICAgIEZ1bmN0aW9uICBjYWxsYmFjayAgY2FsbGJhY2sgZnVuY3Rpb24sIHBhc3NlcyBlcnJvciBtZXNzYWdlIG9yIHN1Y2Nlc3MgYmFjayB0byBjaGVja291dCBoYW5kbGVyXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRjaGVja291dDogZnVuY3Rpb24oIHNlbGYsIGNhbGxiYWNrICkge1xuXHRcblx0XHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XG5cdFx0XHRcdGNhbGxiYWNrKCB0cnVlICk7XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdGNhbGxiYWNrKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVGhlcmUgaXMgYW4gaXNzdWUgd2l0aCB5b3VyIGNob3NlbiBwYXNzd29yZC4nICkgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgbGlzdCBvZiBibGFja2xpc3RlZCBzdHJpbmdzXG5cdFx0ICogV2UnbGwgYWRkIGEgZmlsdGVyIHRvIHRoaXMgbGF0ZXIgc28gdGhhdCBkZXZlbG9wZXJzIGNhbiBhZGQgdGhlaXIgb3duIGJsYWNrbGlzdCB0byB0aGUgZGVmYXVsdCBXUCBsaXN0XG5cdFx0ICogQHJldHVybiBhcnJheVxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9ibGFja2xpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGJsYWNrbGlzdCA9IHdwLnBhc3N3b3JkU3RyZW5ndGgudXNlcklucHV0QmxhY2tsaXN0KCk7XG5cdFx0XHRyZXR1cm4gYmxhY2tsaXN0O1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIGN1cnJlbnQgc3RyZW5ndGggYXMgYSBudW1iZXIsIGEgc2x1Zywgb3IgYSB0cmFuc2xhdGVkIHRleHQgc3RyaW5nXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyAgIGZvcm1hdCAgZGVyaWZlZCByZXR1cm4gZm9ybWF0IFtpbnR8c2x1Z3x0ZXh0XSBkZWZhdWx0cyB0byBpbnRcblx0XHQgKiBAcmV0dXJuICAgbWl4ZWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfY3VycmVudF9zdHJlbmd0aDogZnVuY3Rpb24oIGZvcm1hdCApIHtcblx0XG5cdFx0XHRmb3JtYXQgPSBmb3JtYXQgfHwgJ2ludCc7XG5cdFx0XHR2YXIgcGFzcyA9IHRoaXMuJHBhc3MudmFsKCksXG5cdFx0XHRcdGNvbmYgPSB0aGlzLiRjb25mLnZhbCgpLFxuXHRcdFx0XHR2YWw7XG5cdFxuXHRcdFx0Ly8gZW5mb3JjZSBjdXN0b20gbGVuZ3RoIHJlcXVpcmVtZW50XG5cdFx0XHRpZiAoIHBhc3MubGVuZ3RoIDwgNiApIHtcblx0XHRcdFx0dmFsID0gLTE7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB3cC5wYXNzd29yZFN0cmVuZ3RoLm1ldGVyKCBwYXNzLCB0aGlzLmdldF9ibGFja2xpc3QoKSwgY29uZiApO1xuXHRcdFx0XHQvLyAwICYgMSBhcmUgYm90aCB2ZXJ5LXdlYWtcblx0XHRcdFx0aWYgKCAwID09PSB2YWwgKSB7XG5cdFx0XHRcdFx0dmFsID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJ3NsdWcnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF9zbHVnKCB2YWwgKTtcblx0XHRcdH0gZWxzZSBpZiAoICd0ZXh0JyA9PT0gZm9ybWF0ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRfc3RyZW5ndGhfdGV4dCggdmFsICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgaWYgdGhlIGN1cnJlbnQgcGFzc3dvcmQgc3RyZW5ndGggbWVldHMgdGhlIHVzZXItZGVmaW5lZFxuXHRcdCAqIG1pbmltdW0gcGFzc3dvcmQgc3RyZW5ndGggcmVxdWlyZW1lbnRzXG5cdFx0ICogQHJldHVybiAgIGJvb2xlYW5cblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGN1cnIgPSB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCksXG5cdFx0XHRcdG1pbiA9IHRoaXMuZ2V0X3N0cmVuZ3RoX3ZhbHVlKCB0aGlzLmdldF9taW5pbXVtX3N0cmVuZ3RoKCkgKTtcblx0XHRcdHJldHVybiAoIDUgPT09IGN1cnIgKSA/IGZhbHNlIDogKCBjdXJyID49IG1pbiApO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgc2x1ZyBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHRcdCAqIEBwYXJhbSAgICBpbnQgICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlIG51bWJlclxuXHRcdCAqIEByZXR1cm4gICBzdHJpbmdcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfc3RyZW5ndGhfc2x1ZzogZnVuY3Rpb24oIHN0cmVuZ3RoX3ZhbCApIHtcblx0XG5cdFx0XHR2YXIgc2x1Z3MgPSB7XG5cdFx0XHRcdCctMSc6ICd0b28tc2hvcnQnLFxuXHRcdFx0XHQxOiAndmVyeS13ZWFrJyxcblx0XHRcdFx0MjogJ3dlYWsnLFxuXHRcdFx0XHQzOiAnbWVkaXVtJyxcblx0XHRcdFx0NDogJ3N0cm9uZycsXG5cdFx0XHRcdDU6ICdtaXNtYXRjaCcsXG5cdFx0XHR9O1xuXHRcblx0XHRcdHJldHVybiAoIHNsdWdzWyBzdHJlbmd0aF92YWwgXSApID8gc2x1Z3NbIHN0cmVuZ3RoX3ZhbCBdIDogc2x1Z3NbNV07XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldHMgdGhlIHRyYW5zbGF0ZWQgdGV4dCBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHRcdCAqIEBwYXJhbSAgICBpbnQgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWVcblx0XHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X3N0cmVuZ3RoX3RleHQ6IGZ1bmN0aW9uKCBzdHJlbmd0aF92YWwgKSB7XG5cdFxuXHRcdFx0dmFyIHRleHRzID0ge1xuXHRcdFx0XHQnLTEnOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVG9vIFNob3J0JyApLFxuXHRcdFx0XHQxOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVmVyeSBXZWFrJyApLFxuXHRcdFx0XHQyOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnV2VhaycgKSxcblx0XHRcdFx0MzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lZGl1bScgKSxcblx0XHRcdFx0NDogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1N0cm9uZycgKSxcblx0XHRcdFx0NTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01pc21hdGNoJyApLFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCB0ZXh0c1sgc3RyZW5ndGhfdmFsIF0gKSA/IHRleHRzWyBzdHJlbmd0aF92YWwgXSA6IHRleHRzWzVdO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHNsdWdcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyZW5ndGhfc2x1ZyAgYSBzdHJlbmd0aCBzbHVnXG5cdFx0ICogQHJldHVybiAgIGludFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF92YWx1ZTogZnVuY3Rpb24oIHN0cmVuZ3RoX3NsdWcgKSB7XG5cdFxuXHRcdFx0dmFyIHZhbHVlcyA9IHtcblx0XHRcdFx0J3Rvby1zaG9ydCc6IC0xLFxuXHRcdFx0XHQndmVyeS13ZWFrJzogMSxcblx0XHRcdFx0d2VhazogMixcblx0XHRcdFx0bWVkaXVtOiAzLFxuXHRcdFx0XHRzdHJvbmc6IDQsXG5cdFx0XHRcdG1pc21hdGNoOiA1LFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSApID8gdmFsdWVzWyBzdHJlbmd0aF9zbHVnIF0gOiB2YWx1ZXMubWlzbWF0Y2g7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZvcm0gc3VibWlzc2lvbiBoYW5kbGVyIGZvciByZWdpc3RyYXRpb24gYW5kIHVwZGF0ZSBmb3Jtc1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgZSAgICAgICAgIGV2ZW50IGRhdGFcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHN1Ym1pdDogZnVuY3Rpb24oIGUgKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSBlLmRhdGE7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRzZWxmLiRwYXNzLnRyaWdnZXIoICdrZXl1cCcgKTtcblx0XG5cdFx0XHRpZiAoIHNlbGYuZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzKCkgKSB7XG5cdFx0XHRcdHNlbGYuJGZvcm0ub2ZmKCAnc3VibWl0Jywgc2VsZi5zdWJtaXQgKTtcblx0XHRcdFx0c2VsZi4kZm9ybS50cmlnZ2VyKCAnc3VibWl0JyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCggJ2h0bWwsIGJvZHknICkuYW5pbWF0ZSgge1xuXHRcdFx0XHRcdHNjcm9sbFRvcDogc2VsZi4kbWV0ZXIub2Zmc2V0KCkudG9wIC0gMTAwLFxuXHRcdFx0XHR9LCAyMDAgKTtcblx0XHRcdFx0c2VsZi4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLiRtZXRlci5mYWRlSW4oIDQwMCApO1xuXHRcdFx0XHR9LCAyMjAgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHR9ICk7XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG5cdC8qKlxuXHQgKiBQcmljaW5nIFRhYmxlIFVJXG5cdCAqL1xuXHRMTE1TLlByaWNpbmdfVGFibGVzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBpbml0XG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWFjY2Vzcy1wbGFucycgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdFx0dGhpcy4kbG9ja2VkID0gJCggJ2FbaHJlZj1cIiNsbG1zLXBsYW4tbG9ja2VkXCJdJyApO1xuXHRcblx0XHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0XHRMTE1TLndhaXRfZm9yX3BvcG92ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2VsZi5iaW5kX2xvY2tlZCgpO1xuXHRcdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgTWV0aG9kXG5cdFx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWFjY2Vzcy1wbGFuLWNvbnRlbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHRcdCQoICcubGxtcy1hY2Nlc3MtcGxhbi1wcmljaW5nLnRyaWFsJyApLm1hdGNoSGVpZ2h0KCk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNldHVwIGEgcG9wb3ZlciBmb3IgbWVtYmVycy1vbmx5IHJlc3RyaWN0ZWQgcGxhbnNcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy45LjFcblx0XHQgKi9cblx0XHRiaW5kX2xvY2tlZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0JCggdGhpcyApLndlYnVpUG9wb3Zlcigge1xuXHRcdFx0XHRcdGFuaW1hdGlvbjogJ3BvcCcsXG5cdFx0XHRcdFx0Y2xvc2VhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbnRlbnQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdFx0dmFyICRjb250ZW50ID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLW1lbWJlcnMtb25seS1yZXN0cmljdGlvbnNcIiAvPicgKTtcblx0XHRcdFx0XHRcdCRjb250ZW50LmFwcGVuZCggZS4kZWxlbWVudC5jbG9zZXN0KCAnLmxsbXMtYWNjZXNzLXBsYW4nICkuZmluZCggJy5sbG1zLWFjY2Vzcy1wbGFuLXJlc3RyaWN0aW9ucyB1bCcgKS5jbG9uZSgpICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJGNvbnRlbnQ7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRwbGFjZW1lbnQ6ICd0b3AnLFxuXHRcdFx0XHRcdHN0eWxlOiAnaW52ZXJzZScsXG5cdFx0XHRcdFx0dGl0bGU6IExMTVMubDEwbi50cmFuc2xhdGUoICdNZW1iZXJzIE9ubHkgUHJpY2luZycgKSxcblx0XHRcdFx0XHR3aWR0aDogJzI4MHB4Jyxcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkLCBqUXVlcnkgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0Lypqc2hpbnQgLVcwMjAgKi9cblx0XG5cdExMTVMuUmV2aWV3ID0ge1xuXHRcdC8qKlxuXHRcdCAqIGluaXRcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgUmV2aWV3ICcpO1xuXHRcdFx0dGhpcy5iaW5kKCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBmdW5jdGlvbiBiaW5kcyBhY3Rpb25zIHRvIHRoZSBhcHByb3ByaWF0ZSBob29rc1xuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKClcblx0XHR7XG5cdFx0XHQkKCcjbGxtc19yZXZpZXdfc3VibWl0X2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKClcblx0XHRcdHtcblx0XHRcdFx0aWYgKCQoJyNyZXZpZXdfdGl0bGUnKS52YWwoKSAhPT0gJycgJiYgJCgnI3Jldmlld190ZXh0JykudmFsKCkgIT09ICcnKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0alF1ZXJ5LmFqYXgoe1xuXHRcdFx0ICAgICAgICAgICAgdHlwZSA6ICdwb3N0Jyxcblx0XHRcdCAgICAgICAgICAgIGRhdGFUeXBlIDogJ2pzb24nLFxuXHRcdFx0ICAgICAgICAgICAgdXJsIDogd2luZG93LmxsbXMuYWpheHVybCxcblx0XHRcdCAgICAgICAgICAgIGRhdGEgOiB7XG5cdFx0XHQgICAgICAgICAgICBcdGFjdGlvbiA6ICdMTE1TU3VibWl0UmV2aWV3Jyxcblx0XHRcdCAgICAgICAgICAgICAgICByZXZpZXdfdGl0bGU6ICQoJyNyZXZpZXdfdGl0bGUnKS52YWwoKSxcblx0XHRcdCAgICAgICAgICAgICAgICByZXZpZXdfdGV4dDogJCgnI3Jldmlld190ZXh0JykudmFsKCksXG5cdFx0XHQgICAgICAgICAgICAgICAgcGFnZUlEIDogJCgnI3Bvc3RfSUQnKS52YWwoKVxuXHRcdFx0ICAgICAgICAgICAgfSxcblx0XHRcdCAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKClcblx0XHRcdCAgICAgICAgICAgIHtcblx0XHRcdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmV2aWV3IHN1Y2Nlc3MnKTtcblx0XHRcdCAgICAgICAgICAgICAgICAkKCcjcmV2aWV3X2JveCcpLmhpZGUoJ3N3aW5nJyk7XG5cdFx0XHQgICAgICAgICAgICAgICAgJCgnI3RoYW5rX3lvdV9ib3gnKS5zaG93KCdzd2luZycpO1xuXHRcdFx0ICAgICAgICAgICAgfSxcblx0XHRcdCAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKVxuXHRcdFx0ICAgICAgICAgICAge1xuXHRcdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGpxWEhSKTtcblx0XHRcdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcblx0XHRcdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvclRocm93bik7XG5cdFx0XHQgICAgICAgICAgICB9LFxuXHRcdFx0ICAgICAgICB9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoJCgnI3Jldmlld190aXRsZScpLnZhbCgpID09PSAnJylcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQkKCcjcmV2aWV3X3RpdGxlX2Vycm9yJykuc2hvdygnc3dpbmcnKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JCgnI3Jldmlld190aXRsZV9lcnJvcicpLmhpZGUoJ3N3aW5nJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICgkKCcjcmV2aWV3X3RleHQnKS52YWwoKSA9PT0gJycpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0JCgnI3Jldmlld190ZXh0X2Vycm9yJykuc2hvdygnc3dpbmcnKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JCgnI3Jldmlld190ZXh0X2Vycm9yJykuaGlkZSgnc3dpbmcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYgKCAkKCcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJykuYXR0cignY2hlY2tlZCcpICkge1xuXHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy10b3AnKS5hZGRDbGFzcygndG9wJyk7XG5cdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScpLnNob3coKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0XHQkKCcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICQoJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnKS5hdHRyKCdjaGVja2VkJykgKSB7XG5cdFx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtdG9wJykuYWRkQ2xhc3MoJ3RvcCcpO1xuXHRcdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScpLnNob3coKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy10b3AnKS5yZW1vdmVDbGFzcygndG9wJyk7XG5cdFx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJykuaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XG5cdFx0fSxcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBBZGQgU3Bpbm5lcnMgZm9yIEFKQVggZXZlbnRzXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0TExNUy5TcGlubmVyID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgYW4gZXhpdGluZyBzcGlubmVyIGVsZW1lbnQgb3IgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5uZXJcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc2l6ZSAgc2l6ZSBvciB0aGUgc3Bpbm5lciBbZGVmYXVsdHxzbWFsbF1cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0XHQgKiBAcmV0dXJuICAgb2JqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRnZXQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cdFxuXHRcdFx0Ly8gbG9vayBmb3IgYW4gZXhpc3Rpbmcgc3Bpbm5lclxuXHRcdFx0dmFyICRzcGlubmVyID0gJGVsLmZpbmQoICcubGxtcy1zcGlubmluZycgKS5maXJzdCgpO1xuXHRcblx0XHRcdC8vIG5vIHNwaW5uZXIgaW5zaWRlICRlbFxuXHRcdFx0aWYgKCAhJHNwaW5uZXIubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0c2l6ZSA9ICggc2l6ZSApID8gc2l6ZSA6ICdkZWZhdWx0Jztcblx0XG5cdFx0XHRcdC8vIGNyZWF0ZSB0aGUgc3Bpbm5lclxuXHRcdFx0XHQkc3Bpbm5lciA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1zcGlubmluZ1wiPjxpIGNsYXNzPVwibGxtcy1zcGlubmVyICcgKyBzaXplICsgJ1wiPjwvaT48L2Rpdj4nICk7XG5cdFxuXHRcdFx0XHQvLyBhZGQgaXQgdG8gdGhlIGRvbVxuXHRcdFx0XHQkZWwuYXBwZW5kKCAkc3Bpbm5lciApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0XHQvLyByZXR1cm4gaXRcblx0XHRcdHJldHVybiAkc3Bpbm5lcjtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RhcnQgc3Bpbm5lcihzKSBpbnI9c2lkZSBhIGdpdmVuIGVsZW1lbnRcblx0XHQgKiBDcmVhdGVzIHRoZW0gaWYgdGhleSBkb24ndCBleGlzdCFcblx0XHQgKiBAcGFyYW0gICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5uZXJcblx0XHQgKiBAcGFyYW0gICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGwgaXMgMjBweFxuXHRcdCAqIEByZXR1cm4gIHZvaWRcblx0XHQgKiBAc2luY2UgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdFx0ICovXG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdCRlbC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHNlbGYuZ2V0KCAkKCB0aGlzICksIHNpemUgKS5zaG93KCk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTdG9yIHNwaW5uZXJzIHdpdGhpbiBhbiBlbGVtZW50XG5cdFx0ICogQHBhcmFtICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5ubmVyXG5cdFx0ICogQHJldHVybiAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRzdG9wOiBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmdldCggJCggdGhpcyApICkuaGlkZSgpO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBTdHVkZW50IERhc2hib2FyZCByZWxhdGVkIEpTXG5cdCAqIEB0eXBlICB7T2JqZWN0fVxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0TExNUy5TdHVkZW50RGFzaGJvYXJkID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBTbHVnIGZvciB0aGUgY3VycmVudCBzY3JlZW4vZW5kcG9pbnRcblx0XHQgKiBAdHlwZSAge1N0cmluZ31cblx0XHQgKi9cblx0XHRzY3JlZW46ICcnLFxuXHRcblx0XHQvKipcblx0XHQgKiBXaWxsIHNob3cgdGhlIG51bWJlciBvZiBtZXRlcnMgb24gdGhlIHBhZ2Vcblx0XHQgKiBVc2VkIHRvIGNvbmRpdGlvbmFsbHkgYmluZCBtZXRlci1yZWxhdGVkIGV2ZW50cyBvbmx5IHdoZW4gbWV0ZXJzXG5cdFx0ICogYWN0dWFsbHkgZXhpc3Rcblx0XHQgKiBAdHlwZSAgaW50XG5cdFx0ICovXG5cdFx0bWV0ZXJfZXhpc3RzOiAwLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy43LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQnICkubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0dGhpcy5tZXRlcl9leGlzdHMgPSAkKCAnLmxsbXMtcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInICkubGVuZ3RoO1xuXHRcdFx0XHR0aGlzLmJpbmQoKTtcblx0XG5cdFx0XHRcdGlmICggJ29yZGVycycgPT09IHRoaXMuZ2V0X3NjcmVlbigpICkge1xuXHRcblx0XHRcdFx0XHR0aGlzLmJpbmRfb3JkZXJzKCk7XG5cdFxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjcuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjcuNFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0JHRvZ2dsZSA9ICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCBhW2hyZWY9XCIjbGxtcy1wYXNzd29yZC1jaGFuZ2UtdG9nZ2xlXCJdJyApO1xuXHRcblx0XHRcdC8vIGNsaWNrIGV2ZW50IGZvciB0aGUgY2hhbmdlIHBhc3N3b3JkIGxpbmtcblx0XHRcdCR0b2dnbGUub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdFx0dmFyICR0aGlzID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGN1cnJfdGV4dCA9ICR0aGlzLnRleHQoKSxcblx0XHRcdFx0XHRjdXJyX2FjdGlvbiA9ICR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicgKSxcblx0XHRcdFx0XHRuZXdfYWN0aW9uID0gJ2hpZGUnID09PSBjdXJyX2FjdGlvbiA/ICdzaG93JyA6ICdoaWRlJyxcblx0XHRcdFx0XHRuZXdfdGV4dCA9ICR0aGlzLmF0dHIoICdkYXRhLXRleHQnICk7XG5cdFxuXHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggY3Vycl9hY3Rpb24gKTtcblx0XG5cdFx0XHRcdC8vIHByZXZlbnQgYWNjaWRlbnRhbCBjYW5jZWxzIHdoZW4gdXNlcnMgdGFiIG91dCBvZiB0aGUgY29uZmlybSBwYXNzd29yZCBmaWVsZFxuXHRcdFx0XHQvLyBhbmQgZXhwZWN0IHRvIGhpdCBzdWJtaXQgd2l0aCBlbnRlciBrZXkgaW1tZWRpYXRlbHkgYWZ0ZXJcblx0XHRcdFx0aWYgKCAnc2hvdycgPT09IGN1cnJfYWN0aW9uICkge1xuXHRcdFx0XHRcdCR0aGlzLmF0dHIoICd0YWJpbmRleCcsICctNzc3JyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCR0aGlzLnJlbW92ZUF0dHIoICd0YWJpbmRleCcgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0JHRoaXMuYXR0ciggJ2RhdGEtYWN0aW9uJywgbmV3X2FjdGlvbiApLmF0dHIoICdkYXRhLXRleHQnLCBjdXJyX3RleHQgKS50ZXh0KCBuZXdfdGV4dCApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0XHQvLyB0aGlzIHdpbGwgcmVtb3ZlIHRoZSByZXF1aXJlZCBieSBkZWZhdWx0IHdpdGhvdXQgaGF2aW5nIHRvIG1lc3Mgd2l0aFxuXHRcdFx0Ly8gY29uZGl0aW9uYWxzIGluIFBIUCBhbmQgc3RpbGwgYWxsb3dzIHRoZSByZXF1aXJlZCAqIHRvIHNob3cgaW4gdGhlIGxhYmVsXG5cdFxuXHRcdFx0aWYgKCB0aGlzLm1ldGVyX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdCQoICcubGxtcy1wZXJzb24tZm9ybS5lZGl0LWFjY291bnQnICkub24oICdsbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLXJlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5wYXNzd29yZF90b2dnbGUoICdoaWRlJyApO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0JCggJy5sbG1zLWRvbnV0JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRMTE1TLkRvbnV0KCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBldmVudHMgcmVsYXRlZCB0byB0aGUgb3JkZXJzIHNjcmVlbiBvbiB0aGUgZGFzaGJvYXJkXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdGJpbmRfb3JkZXJzOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnI2xsbXMtY2FuY2VsLXN1YnNjcmlwdGlvbi1mb3JtJyApLm9uKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdFx0JCggJyNsbG1zX3VwZGF0ZV9wYXltZW50X21ldGhvZCcgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoICdpbnB1dFtuYW1lPVwibGxtc19wYXltZW50X2dhdGV3YXlcIl06Y2hlY2tlZCcgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHQkKCB0aGlzICkuY2xvc2VzdCggJ2Zvcm0nICkuZmluZCggJy5sbG1zLXN3aXRjaC1wYXltZW50LXNvdXJjZS1tYWluJyApLnNsaWRlVG9nZ2xlKCAnMjAwJyApO1xuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIGN1cnJlbnQgZGFzaGJvYXJkIGVuZHBvaW50L3RhYiBzbHVnXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdGdldF9zY3JlZW46IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhdGhpcy5zY3JlZW4gKSB7XG5cdFx0XHRcdHRoaXMuc2NyZWVuID0gJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmF0dHIoICdkYXRhLWN1cnJlbnQnICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5zY3JlZW47XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2hvdyBhIGNvbmZpcm1hdGlvbiB3YXJuaW5nIHdoZW4gQ2FuY2VsIFN1YnNjcmlwdGlvbiBmb3JtIGlzIHN1Ym1pdHRlZFxuXHRcdCAqIEBwYXJhbSAgICBvYmogICBlICBKUyBldmVudCBkYXRhXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdG9yZGVyX2NhbmNlbF93YXJuaW5nOiBmdW5jdGlvbiggZSApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciBtc2cgPSBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNhbmNlbCB5b3VyIHN1YnNjcmlwdGlvbj8nICk7XG5cdFx0XHRpZiAoIHdpbmRvdy5jb25maXJtKCBMTE1TLmwxMG4udHJhbnNsYXRlKCBtc2cgKSApICkge1xuXHRcdFx0XHQkKCB0aGlzICkub2ZmKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdFx0XHQkKCB0aGlzICkuc3VibWl0KCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVG9nZ2xlIHBhc3N3b3JkIHJlbGF0ZWQgZmllbGRzIG9uIHRoZSBhY2NvdW50IGVkaXQgcGFnZVxuXHRcdCAqIEBwYXJhbSAgICBzdHJpbmcgICBhY3Rpb24gIFtzaG93fGhpZGVdXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy43LjBcblx0XHQgKiBAdmVyc2lvbiAgMy43LjRcblx0XHQgKi9cblx0XHRwYXNzd29yZF90b2dnbGU6IGZ1bmN0aW9uKCBhY3Rpb24gKSB7XG5cdFxuXHRcdFx0aWYgKCAhYWN0aW9uICkge1xuXHRcdFx0XHRhY3Rpb24gPSAnc2hvdyc7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHQkcHdkcyA9ICQoICcjcGFzc3dvcmQsICNwYXNzd29yZF9jb25maXJtLCAjY3VycmVudF9wYXNzd29yZCcgKSxcblx0XHRcdFx0JGZvcm0gPSAkKCAnI3Bhc3N3b3JkJyApLmNsb3Nlc3QoICdmb3JtJyApO1xuXHRcblx0XHRcdC8vIGhpZGUgb3Igc2hvdyB0aGUgZmllbGRzXG5cdFx0XHQkKCAnLmxsbXMtY2hhbmdlLXBhc3N3b3JkJyApWyBhY3Rpb24gXSgpO1xuXHRcblx0XHRcdGlmICggJ3Nob3cnID09PSBhY3Rpb24gKSB7XG5cdFx0XHRcdC8vIG1ha2UgcGFzc3dvcmRzIHJlcXVpcmVkXG5cdFx0XHRcdCRwd2RzLmF0dHIoICdyZXF1aXJlZCcsICdyZXF1aXJlZCcgKTtcblx0XG5cdFx0XHRcdGlmICggc2VsZi5tZXRlcl9leGlzdHMgKSB7XG5cdFx0XHRcdFx0Ly8gYWRkIHRoZSBzdHJlbmd0aCBjaGVjayBvbiBmb3JtIHN1Ym1pc3Npb25cblx0XHRcdFx0XHQkZm9ybS5vbiggJ3N1Ym1pdCcsIExMTVMuUGFzc3dvcmRTdHJlbmd0aCwgTExNUy5QYXNzd29yZFN0cmVuZ3RoLnN1Ym1pdCApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gcmVtb3ZlIHJlcXVpcmVtZW50IHNvIGZvcm0gY2FuIGJlIHN1Ym1pdHRlZCB3aGlsZSBmaWVsZHMgYXJlIGhpZGRlblxuXHRcdFx0XHQvLyBhbmQgY2xlYXIgdGhlIHBhc3N3b3JkIG91dCBvZiB0aGUgZmllbGRzIGlmIHR5cGluZyBzdGFydGVkXG5cdFx0XHRcdCRwd2RzLnJlbW92ZUF0dHIoICdyZXF1aXJlZCcgKS52YWwoICcnICk7XG5cdFxuXHRcdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXHRcblx0XHRcdFx0XHQvLyByZW1vdmUgdGhlIHBhc3N3b3JkIHN0cmVuZ3RoIHN1Ym1pc3Npb24gY2hlY2tcblx0XHRcdFx0XHQkZm9ybS5vZmYoICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGguc3VibWl0ICk7XG5cdFx0XHRcdFx0Ly8gY2xlYXJzIHRoZSBtZXRlclxuXHRcdFx0XHRcdExMTVMuUGFzc3dvcmRTdHJlbmd0aC5jaGVja19zdHJlbmd0aCgpO1xuXHRcblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qZ2xvYmFsIExMTVMgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0XG5cdC8qKlxuXHQgKiBSZXN0IE1ldGhvZHNcblx0ICogTWFuYWdlcyBVUkwgYW5kIFJlc3Qgb2JqZWN0IHBhcnNpbmdcblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdExMTVMuUmVzdCA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogaW5pdFxuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuYmluZCgpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgTWV0aG9kXG5cdFx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2VhcmNoZXMgZm9yIHN0cmluZyBtYXRjaGVzIGluIHVybCBwYXRoXG5cdFx0ICogQHBhcmFtICB7QXJyYXl9ICBzdHJpbmdzIFtBcnJheSBvZiBzdHJpbmdzIHRvIHNlYXJjaCBmb3IgbWF0Y2hlc11cblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgIFtXYXMgYSBtYXRjaCBmb3VuZD9dXG5cdFx0ICovXG5cdFx0aXNfcGF0aDogZnVuY3Rpb24oIHN0cmluZ3MgKSB7XG5cdFxuXHRcdFx0dmFyIHBhdGhfZXhpc3RzID0gZmFsc2UsXG5cdFx0XHRcdHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcblx0XHRcdGZvciggdmFyIGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGg7IGkrKyApIHtcblx0XG5cdFx0XHRcdGlmICggdXJsLnNlYXJjaCggc3RyaW5nc1tpXSApID4gMCAmJiAhcGF0aF9leGlzdHMgKSB7XG5cdFxuXHRcdFx0XHRcdHBhdGhfZXhpc3RzID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiBwYXRoX2V4aXN0cztcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZXMgcXVlcnkgdmFyaWFibGVzXG5cdFx0ICogQHJldHVybiB7W0FycmF5XX0gW2FycmF5IG9iamVjdCBvZiBxdWVyeSB2YXJpYWJsZSBrZXk9PnZhbHVlIHBhaXJzXVxuXHRcdCAqL1xuXHRcdGdldF9xdWVyeV92YXJzOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0ICAgIHZhciB2YXJzID0gW10sIGhhc2gsXG5cdFx0ICAgIFx0aGFzaGVzID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpICsgMSkuc3BsaXQoJyYnKTtcblx0XG5cdFx0ICAgIGZvcih2YXIgaSA9IDA7IGkgPCBoYXNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgICAgIGhhc2ggPSBoYXNoZXNbaV0uc3BsaXQoJz0nKTtcblx0XHQgICAgICAgIHZhcnMucHVzaChoYXNoWzBdKTtcblx0XHQgICAgICAgIHZhcnNbaGFzaFswXV0gPSBoYXNoWzFdO1xuXHRcdCAgICB9XG5cdFxuXHQgICAgXHRyZXR1cm4gdmFycztcblx0XHR9XG5cdFxuXHR9O1xuXHRcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgYWxsIGNsYXNzZXMgd2l0aGluIHRoZSBMTE1TIE5hbWVzcGFjZVxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdExMTVMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0Zm9yICh2YXIgZnVuYyBpbiBMTE1TKSB7XG5cblx0XHRcdGlmICggdHlwZW9mIExMTVNbZnVuY10gPT09ICdvYmplY3QnICYmIExMTVNbZnVuY10gIT09IG51bGwgKSB7XG5cblx0XHRcdFx0aWYgKCBMTE1TW2Z1bmNdLmluaXQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdGlmICggdHlwZW9mIExMTVNbZnVuY10uaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0TExNU1tmdW5jXS5pbml0KCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH07XG5cblx0LyoqXG5cdCAqIERldGVybWluZSBpZiB0aGUgY3VycmVudCBkZXZpY2UgaXMgdG91Y2gtZW5hYmxlZFxuXHQgKlxuXHQgKiBAc2VlICAgICBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDgxOTg4Ni80MDA1NjggWzIwMTggVXBkYXRlXVxuXHQgKiBAcmV0dXJuICB7Qm9vbGVhbn1cblx0ICogQHNpbmNlICAgMy4yNC4zXG5cdCAqIEB2ZXJzaW9uIDMuMjQuM1xuXHQgKi9cblx0TExNUy5pc190b3VjaF9kZXZpY2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBwcmVmaXhlcyA9ICcgLXdlYmtpdC0gLW1vei0gLW8tIC1tcy0gJy5zcGxpdCgnICcpO1xuXHRcdHZhciBtcSA9IGZ1bmN0aW9uKCBxdWVyeSApIHtcblx0XHRcdHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSggcXVlcnkgKS5tYXRjaGVzO1xuXHRcdH1cblxuXHRcdGlmICggKCAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgKSB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2ggKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBpbmNsdWRlIHRoZSAnaGVhcnR6JyBhcyBhIHdheSB0byBoYXZlIGEgbm9uIG1hdGNoaW5nIE1RIHRvIGhlbHAgdGVybWluYXRlIHRoZSBqb2luXG5cdFx0Ly8gaHR0cHM6Ly9naXQuaW8vdnpuRkhcblx0XHR2YXIgcXVlcnkgPSBbJygnLCBwcmVmaXhlcy5qb2luKCd0b3VjaC1lbmFibGVkKSwoJyksICdoZWFydHonLCAnKSddLmpvaW4oJycpO1xuXHRcdHJldHVybiBtcSggcXVlcnkgKTtcblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBXYWl0IGZvciBtYXRjaEhlaWdodCB0byBsb2FkXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICBjYiAgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW4gbWF0Y2hoZWlnaHQgaXMgcmVhZHlcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjZcblx0ICovXG5cdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQgPSBmdW5jdGlvbiggY2IgKSB7XG5cdFx0dGhpcy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKCB1bmRlZmluZWQgIT09ICQuZm4ubWF0Y2hIZWlnaHQgKTtcblx0XHR9LCBjYiApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFdhaXQgZm9yIHdlYnVpUG9wb3ZlciB0byBsb2FkXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICBjYiAgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW4gbWF0Y2hoZWlnaHQgaXMgcmVhZHlcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuOS4xXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjZcblx0ICovXG5cdExMTVMud2FpdF9mb3JfcG9wb3ZlciA9IGZ1bmN0aW9uKCBjYiApIHtcblx0XHR0aGlzLndhaXRfZm9yKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAoIHVuZGVmaW5lZCAhPT0gJC5mbi53ZWJ1aVBvcG92ZXIgKTtcblx0XHR9LCBjYiApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFdhaXQgZm9yIGEgZGVwZW5kZW5jeSB0byBsb2FkIGFuZCB0aGVuIHJ1biBhIGNhbGxiYWNrIG9uY2UgaXQgaGFzXG5cdCAqIFRlbXBvcmFyeSBmaXggZm9yIGEgbGVzcy10aGFuLW9wdGltYWwgYXNzZXRzIGxvYWRpbmcgZnVuY3Rpb24gb24gdGhlIFBIUCBzaWRlIG9mIHRoaW5nc1xuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgICB0ZXN0ICBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRydXRoeSBpZiB0aGUgZGVwZW5kZW5jeSBpcyBsb2FkZWRcblx0ICogQHBhcmFtICAgIHtGdW5jdGlvbn0gICAgY2IgICAgYSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvbmNlIHRoZSBkZXBlbmRlbmN5IGlzIGxvYWRlZFxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy45LjFcblx0ICogQHZlcnNpb24gIDMuOS4xXG5cdCAqL1xuXHRMTE1TLndhaXRfZm9yID0gZnVuY3Rpb24oIHRlc3QsIGNiICkge1xuXG5cdFx0dmFyIGNvdW50ZXIgPSAwLFxuXHRcdFx0aW50ZXJ2YWw7XG5cblx0XHRpbnRlcnZhbCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gaWYgd2UgZ2V0IHRvIDMwIHNlY29uZHMgbG9nIGFuIGVycm9yIG1lc3NhZ2Vcblx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coICdjb3VsZCBub3QgbG9hZCBkZXBlbmRlbmN5JyApO1xuXG5cdFx0XHQvLyBpZiB3ZSBjYW4ndCBhY2Nlc3MgeWUsIGluY3JlbWVudCBhbmQgd2FpdC4uLlxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBiaW5kIHRoZSBldmVudHMsIHdlJ3JlIGdvb2QhXG5cdFx0XHRcdGlmICggdGVzdCgpICkge1xuXG5cdFx0XHRcdFx0Y2IoKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coICd3YWl0aW5nLi4uJyApO1xuXHRcdFx0XHRcdGNvdW50ZXIrKztcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGNsZWFySW50ZXJ2YWwoIGludGVydmFsICk7XG5cblx0XHR9LCAxMDAgKTtcblxuXHR9O1xuXG5cdExMTVMuaW5pdCgkKTtcblxuXG59KShqUXVlcnkpO1xuIiwiLyogZ2xvYmFsIExMTVMsICQgKi9cbi8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG5cbi8qKlxuICogRnJvbnQgRW5kIEFjaGlldmVtZW50c1xuICogQHR5cGUgICAgIHtPYmplY3R9XG4gKiBAc2luY2UgICAgMy4xNC4wXG4gKiBAdmVyc2lvbiAgMy4xNC4wXG4gKi9cbkxMTVMuQWNoaWV2ZW1lbnRzID0ge1xuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICQoICcubGxtcy1hY2hpZXZlbWVudCcgKSApIHtcblx0XHRcdCQoIGRvY3VtZW50ICkub24oICdyZWFkeScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0c2VsZi5tYXliZV9vcGVuKCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0JCggJy5sbG1zLWFjaGlldmVtZW50JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRzZWxmLmNyZWF0ZV9tb2RhbCggJCggdGhpcyApICk7XG5cblx0XHR9ICk7XG5cblx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHRoaXMgPSAkKCB0aGlzICksXG5cdFx0XHRcdGlkID0gJ2FjaGlldmVtZW50LScgKyAkdGhpcy5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblxuXHRcdFx0aWYgKCAhJG1vZGFsLmxlbmd0aCApIHtcblx0XHRcdFx0c2VsZi5jcmVhdGVfbW9kYWwoICR0aGlzICk7XG5cdFx0XHR9XG5cblx0XHRcdCRtb2RhbC5pemlNb2RhbCggJ29wZW4nICk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlcyBtb2RhbCBhIG1vZGFsIGZvciBhbiBhY2hpZW12ZW1lbnRcblx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgbW9kYWwgY2FyZFxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdGNyZWF0ZV9tb2RhbDogZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdHZhciBpZCA9ICdhY2hpZXZlbWVudC0nICsgJGVsLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblxuXHRcdGlmICggISRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHQkbW9kYWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtYWNoaWV2ZW1lbnQtbW9kYWxcIiBpZD1cIicgKyBpZCArICdcIiAvPicgKTtcblx0XHRcdCQoICdib2R5JyApLmFwcGVuZCggJG1vZGFsICk7XG5cdFx0fVxuXG5cdFx0JG1vZGFsLml6aU1vZGFsKCB7XG5cdFx0XHRoZWFkZXJDb2xvcjogJyMzYTNhM2EnLFxuXHRcdFx0Z3JvdXA6ICdhY2hpZXZlbWVudHMnLFxuXHRcdFx0aGlzdG9yeTogdHJ1ZSxcblx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRvdmVybGF5Q29sb3I6ICdyZ2JhKCAwLCAwLCAwLCAwLjYgKScsXG5cdFx0XHR0cmFuc2l0aW9uSW46ICdmYWRlSW5Eb3duJyxcblx0XHRcdHRyYW5zaXRpb25PdXQ6ICdmYWRlT3V0RG93bicsXG5cdFx0XHR3aWR0aDogMzQwLFxuXHRcdFx0b25PcGVuaW5nOiBmdW5jdGlvbiggbW9kYWwgKSB7XG5cblx0XHRcdFx0bW9kYWwuc2V0VGl0bGUoICRlbC5maW5kKCAnLmxsbXMtYWNoaWV2ZW1lbnQtdGl0bGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdG1vZGFsLnNldFN1YnRpdGxlKCAkZWwuZmluZCggJy5sbG1zLWFjaGlldmVtZW50LWRhdGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdG1vZGFsLnNldENvbnRlbnQoICc8ZGl2IGNsYXNzPVwibGxtcy1hY2hpZXZlbWVudFwiPicgKyAkZWwuaHRtbCgpICsgJzwvZGl2PicgKTtcblxuXHRcdFx0fSxcblxuXHRcdFx0b25DbG9zaW5nOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCAnJywgZG9jdW1lbnQudGl0bGUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKTtcblx0XHRcdH0sXG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogT24gcGFnZSBsb2FkLCBvcGVucyBhIG1vZGFsIGlmIHRoZSBVUkwgY29udGFpbnMgYW4gYWNoaWV2ZW1lbnQgaW4gdGhlIGxvY2F0aW9uIGhhc2hcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdCAqL1xuXHRtYXliZV9vcGVuOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0aWYgKCBoYXNoICYmIC0xICE9PSBoYXNoLmluZGV4T2YoICdhY2hpZXZlbWVudC0nICkgKSB7XG5cdFx0XHQkKCAnYVtocmVmPVwiJyArIGhhc2ggKyAnXCJdJykuZmlyc3QoKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0fVxuXG5cdH1cblxufTtcbiIsIi8qIGdsb2JhbCBMTE1TLCAkLCB3cF9hamF4X2RhdGEgKi9cbi8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG5cbi8qKlxuICogTWFpbiBBamF4IGNsYXNzXG4gKiBIYW5kbGVzIFByaW1hcnkgQWpheCBjb25uZWN0aW9uXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5MTE1TLkFqYXggPSB7XG5cblx0LyoqXG5cdCAqIHVybFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKi9cblx0dXJsOiB3aW5kb3cuYWpheHVybCB8fCB3aW5kb3cubGxtcy5hamF4dXJsLFxuXG5cdC8qKlxuXHQgKiB0eXBlXG5cdCAqIEB0eXBlIHtbdHlwZV19XG5cdCAqL1xuXHR0eXBlOiAncG9zdCcsXG5cblx0LyoqXG5cdCAqIGRhdGFcblx0ICogQHR5cGUge1t0eXBlXX1cblx0ICovXG5cdGRhdGE6IFtdLFxuXG5cdC8qKlxuXHQgKiBjYWNoZVxuXHQgKiBAdHlwZSB7W3R5cGVdfVxuXHQgKi9cblx0Y2FjaGU6IGZhbHNlLFxuXG5cdC8qKlxuXHQgKiBkYXRhVHlwZVxuXHQgKiBkZWZhdWx0ZWQgdG8ganNvblxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKi9cblx0ZGF0YVR5cGU6ICdqc29uJyxcblxuXHQvKipcblx0ICogYXN5bmNcblx0ICogZGVmYXVsdCB0byBmYWxzZVxuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICovXG5cdGFzeW5jOiB0cnVlLFxuXG5cdHJlc3BvbnNlOltdLFxuXG5cdC8qKlxuXHQgKiBpbml0aWxpemUgQWpheCBtZXRob2RzXG5cdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKG9iaikge1xuXG5cdFx0Ly9pZiBvYmogaXMgbm90IG9mIHR5cGUgb2JqZWN0IG9yIG51bGwgcmV0dXJuIGZhbHNlO1xuXHRcdGlmKCBvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly9zZXQgb2JqZWN0IGRlZmF1bHRzIGlmIHZhbHVlcyBhcmUgbm90IHN1cHBsaWVkXG5cdFx0b2JqLnVybFx0XHRcdD0gJ3VybCcgICAgICAgICBpbiBvYmogPyBvYmoudXJsICAgICAgICA6IHRoaXMudXJsO1xuXHRcdG9iai50eXBlIFx0XHQ9ICd0eXBlJyBcdFx0aW4gb2JqID8gb2JqLnR5cGUgXHRcdDogdGhpcy50eXBlO1xuXHRcdG9iai5kYXRhIFx0XHQ9ICdkYXRhJyBcdFx0aW4gb2JqID8gb2JqLmRhdGEgXHRcdDogdGhpcy5kYXRhO1xuXHRcdG9iai5jYWNoZSBcdFx0PSAnY2FjaGUnIFx0XHRpbiBvYmogPyBvYmouY2FjaGUgXHRcdDogdGhpcy5jYWNoZTtcblx0XHRvYmouZGF0YVR5cGUgXHQ9ICdkYXRhVHlwZSdcdGluIG9iaiA/IG9iai5kYXRhVHlwZSBcdDogdGhpcy5kYXRhVHlwZTtcblx0XHRvYmouYXN5bmMgXHRcdD0gJ2FzeW5jJ1x0XHRpbiBvYmogPyBvYmouYXN5bmMgXHRcdDogdGhpcy5hc3luYztcblxuXHRcdC8vYWRkIG5vbmNlIHRvIGRhdGEgb2JqZWN0XG5cdFx0b2JqLmRhdGEuX2FqYXhfbm9uY2UgPSB3cF9hamF4X2RhdGEubm9uY2U7XG5cblx0XHQvL2FkZCBwb3N0IGlkIHRvIGRhdGEgb2JqZWN0XG5cdFx0dmFyICRSID0gTExNUy5SZXN0LFxuXHRcdHF1ZXJ5X3ZhcnMgPSAkUi5nZXRfcXVlcnlfdmFycygpO1xuXHRcdG9iai5kYXRhLnBvc3RfaWQgPSAncG9zdCcgaW4gcXVlcnlfdmFycyA/IHF1ZXJ5X3ZhcnMucG9zdCA6IG51bGw7XG5cdFx0aWYgKCAhb2JqLmRhdGEucG9zdF9pZCAmJiAkKCAnaW5wdXQjcG9zdF9JRCcgKS5sZW5ndGggKSB7XG5cdFx0XHRvYmouZGF0YS5wb3N0X2lkID0gJCggJ2lucHV0I3Bvc3RfSUQnICkudmFsKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvKipcblx0ICogQ2FsbFxuXHQgKiBDYWxsZWQgYnkgZXh0ZXJuYWwgY2xhc3Nlc1xuXHQgKiBTZXRzIHVwIGpRdWVyeSBBamF4IG9iamVjdFxuXHQgKiBAcGFyYW0gIHtbb2JqZWN0XX0gW29iamVjdCBvZiBhamF4IHNldHRpbmdzXVxuXHQgKiBAcmV0dXJuIHtbbWl4ZWRdfSBbZmFsc2UgaWYgbm90IG9iamVjdCBvciB0aGlzXVxuXHQgKi9cblx0Y2FsbDogZnVuY3Rpb24ob2JqKSB7XG5cblx0XHQvL2dldCBkZWZhdWx0IHZhcmlhYmxlcyBpZiBub3QgaW5jbHVkZWQgaW4gY2FsbFxuXHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuaW5pdChvYmopO1xuXG5cdFx0Ly9pZiBpbml0IHJldHVybiBhIHJlc3BvbnNlIG9mIGZhbHNlXG5cdFx0aWYgKCFzZXR0aW5ncykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnJlcXVlc3Qoc2V0dGluZ3MpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIENhbGxzIGpRdWVyeSBBamF4IG9uIHNldHRpbmdzIG9iamVjdFxuXHQgKiBAcmV0dXJuIHtbb2JqZWN0XX0gW3RoaXNdXG5cdCAqL1xuXHRyZXF1ZXN0OiBmdW5jdGlvbihzZXR0aW5ncykge1xuXG5cdFx0JC5hamF4KHNldHRpbmdzKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufTtcbiIsIi8qIGdsb2JhbCBMTE1TICovXG4vKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIERvbnV0IENoYXJ0XG4gKiBAc291cmNlICAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9leWluYm94LzgyMDU5NjJcbiAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBlbGVtZW50IHRvIGRyYXcgYSBjaGFydCB3aXRoaW5cbiAqIEBzaW5jZSAgICAzLjkuMFxuICogQHZlcnNpb24gIDMuOS4wXG4gKi9cbkxMTVMuRG9udXQgPSBmdW5jdGlvbiggJGVsICkge1xuXG5cdGZ1bmN0aW9uIERvbnV0KG9wdGlvbnMpIHtcblxuXHRcdHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCgge1xuXHRcdFx0ZWxlbWVudDogb3B0aW9ucy5lbGVtZW50LFxuXHRcdFx0cGVyY2VudDogMTAwXG5cdFx0fSwgb3B0aW9ucyApO1xuXG5cdFx0dGhpcy5jaXJjbGUgPSB0aGlzLnNldHRpbmdzLmVsZW1lbnQuZmluZCggJ3BhdGgnICk7XG5cdFx0dGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggPSBwYXJzZUludCggdGhpcy5jaXJjbGUuY3NzKCAnc3Ryb2tlLXdpZHRoJyApICk7XG5cdFx0dGhpcy5yYWRpdXMgPSAoIHBhcnNlSW50KCB0aGlzLnNldHRpbmdzLmVsZW1lbnQuY3NzKCAnd2lkdGgnICkgKSAtIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoICkgLyAyO1xuXHRcdHRoaXMuYW5nbGUgPSAtOTcuNTsgLy8gT3JpZ2luIG9mIHRoZSBkcmF3IGF0IHRoZSB0b3Agb2YgdGhlIGNpcmNsZVxuXHRcdHRoaXMuaSA9IE1hdGgucm91bmQoIDAuNzUgKiB0aGlzLnNldHRpbmdzLnBlcmNlbnQgKTtcblx0XHR0aGlzLmZpcnN0ID0gdHJ1ZTtcblxuXHRcdHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy50aW1lciA9IHNldEludGVydmFsKCB0aGlzLmxvb3AuYmluZCggdGhpcyApLCAxMCApO1xuXHRcdH07XG5cblx0XHR0aGlzLmxvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuYW5nbGUgKz0gNTtcblx0XHRcdHRoaXMuYW5nbGUgJT0gMzYwO1xuXHRcdFx0dmFyIHJhZGlhbnMgPSAoIHRoaXMuYW5nbGUgLyAxODAgKSAqIE1hdGguUEksXG5cdFx0XHRcdHggPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguY29zKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0eSA9IHRoaXMucmFkaXVzICsgdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggLyAyICsgTWF0aC5zaW4oIHJhZGlhbnMgKSAqIHRoaXMucmFkaXVzLFxuXHRcdFx0XHRkO1xuXHRcdFx0aWYgKHRoaXMuZmlyc3QgPT09IHRydWUpIHtcblx0XHRcdFx0ZCA9IHRoaXMuY2lyY2xlLmF0dHIoICdkJyApICsgJyBNICcgKyB4ICsgJyAnICsgeTtcblx0XHRcdFx0dGhpcy5maXJzdCA9IGZhbHNlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZCA9IHRoaXMuY2lyY2xlLmF0dHIoICdkJyApICsgJyBMICcgKyB4ICsgJyAnICsgeTtcblx0XHRcdH1cblx0XHRcdHRoaXMuY2lyY2xlLmF0dHIoICdkJywgZCApO1xuXHRcdFx0dGhpcy5pLS07XG5cblx0XHRcdGlmKHRoaXMuaTw9MCkge1xuXHRcdFx0XHRjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3KCAkZWwgKSB7XG5cdFx0dmFyIHBhdGggPSAnPHBhdGggZD1cIk0xMDAsMTAwXCIgLz4nO1xuXHRcdCRlbC5hcHBlbmQoICc8c3ZnIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZFwiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPicgKyBwYXRoICsgJzwvc3ZnPicgKTtcblx0XHR2YXIgZG9udXQgPSBuZXcgRG9udXQoIHtcblx0XHRcdGVsZW1lbnQ6ICRlbCxcblx0XHRcdHBlcmNlbnQ6ICRlbC5hdHRyKCdkYXRhLXBlcmMnKVxuXHRcdH0gKTtcblx0XHRkb251dC5hbmltYXRlKCk7XG5cdH1cblxuXHRkcmF3KCAkZWwgKTtcblxufTtcbiIsIi8qIGdsb2JhbCBMTE1TLCAkICovXG4vKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuLyoqXG4gKiBJbnN0cnVjdG9ycyBMaXN0XG4gKi9cbkxMTVMuSW5zdHJ1Y3RvcnMgPSB7XG5cblx0LyoqXG5cdCAqIGluaXRcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggJCggJy5sbG1zLWluc3RydWN0b3JzJyApLmxlbmd0aCApIHtcblxuXHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgTWV0aG9kXG5cdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJy5sbG1zLWluc3RydWN0b3JzIC5sbG1zLWF1dGhvcicgKS5tYXRjaEhlaWdodCgpO1xuXG5cdH0sXG5cbn07XG4iLCIvKiBnbG9iYWwgTExNUyAqL1xuXG4vKipcbiAqIExvY2FsaXphdGlvbiBmdW5jdGlvbnMgZm9yIExpZnRlckxNUyBKYXZhc2NyaXB0XG4gKlxuICogQHRvZG8gIHdlIG5lZWQgbW9yZSByb2J1c3QgdHJhbnNsYXRpb24gZnVuY3Rpb25zIHRvIGhhbmRsZSBzcHJpbnRmIGFuZCBwbHVyYWxpemF0aW9uXG4gKiAgICAgICAgYXQgdGhpcyBtb21lbnQgd2UgZG9uJ3QgbmVlZCB0aG9zZSBhbmQgaGF2ZW4ndCBzdHViYmVkIHRoZW0gb3V0XG4gKiAgICAgICAgdGhvc2Ugd2lsbCBiZSBhZGRlZCB3aGVuIHRoZXkncmUgbmVlZGVkXG4gKlxuICogQHR5cGUgT2JqZWN0XG4gKlxuICogQHNpbmNlICAyLjcuM1xuICovXG5MTE1TLmwxMG4gPSBMTE1TLmwxMG4gfHwge307XG5cbkxMTVMubDEwbi50cmFuc2xhdGUgPSBmdW5jdGlvbiAoIHN0cmluZyApIHtcblxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0aWYgKCBzZWxmLnN0cmluZ3Nbc3RyaW5nXSApIHtcblxuXHRcdHJldHVybiBzZWxmLnN0cmluZ3Nbc3RyaW5nXTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0cmV0dXJuIHN0cmluZztcblxuXHR9XG5cbn07XG5cbi8qKlxuICogVHJhbnNsYXRlIGFuZCByZXBsYWNlIHBsYWNlaG9sZGVycyBpbiBhIHN0cmluZ1xuICpcbiAqIEBleGFtcGxlIExMTVMubDEwbi5yZXBsYWNlKCAnVGhpcyBpcyBhICUyJHMgJTEkcyBTdHJpbmcnLCB7XG4gKiAgICAgICAgICAgXHQnJTEkcyc6ICdjb29sJyxcbiAqICAgIFx0XHRcdCclMiRzJzogJ3ZlcnknXG4gKiAgICBcdFx0fSApO1xuICogICAgXHRcdE91dHB1dDogXCJUaGlzIGlzIGEgdmVyeSBjb29sIFN0cmluZ1wiXG4gKlxuICogQHBhcmFtICAgIHN0cmluZyAgIHN0cmluZyAgICAgICAgdGV4dCBzdHJpbmdcbiAqIEBwYXJhbSAgICBvYmplY3QgICByZXBsYWNlbWVudHMgIG9iamVjdCBjb250YWluaW5nIHRva2VuID0+IHJlcGxhY2VtZW50IHBhaXJzXG4gKiBAcmV0dXJuICAgc3RyaW5nXG4gKiBAc2luY2UgICAgMy4xNi4wXG4gKiBAdmVyc2lvbiAgMy4xNi4wXG4gKi9cbkxMTVMubDEwbi5yZXBsYWNlID0gZnVuY3Rpb24oIHN0cmluZywgcmVwbGFjZW1lbnRzICkge1xuXG5cdHZhciBzdHIgPSB0aGlzLnRyYW5zbGF0ZSggc3RyaW5nICk7XG5cblx0JC5lYWNoKCByZXBsYWNlbWVudHMsIGZ1bmN0aW9uKCB0b2tlbiwgdmFsdWUgKSB7XG5cblx0XHRpZiAoIC0xICE9PSB0b2tlbi5pbmRleE9mKCAncycgKSApIHtcblx0XHRcdHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblx0XHR9IGVsc2UgaWYgKCAtMSAhPT0gdG9rZW4uaW5kZXhPZiggJ2QnICkgKSB7XG5cdFx0XHR2YWx1ZSA9IHZhbHVlICogMTtcblx0XHR9XG5cblx0XHRzdHIgPSBzdHIucmVwbGFjZSggdG9rZW4sIHZhbHVlICk7XG5cblx0fSApO1xuXG5cdHJldHVybiBzdHI7XG5cbn07XG4iLCIvKiBnbG9iYWwgTExNUywgJCAqL1xuXG4vKipcbiAqIEhhbmRsZSBMZXNzb24gUHJldmlldyBFbGVtZW50c1xuICogQHNpbmNlICAgIDMuMC4wXG4gKiBAdmVyc2lvbiAgMy4xNi4xMlxuICovXG5MTE1TLkxlc3NvblByZXZpZXcgPSB7XG5cblx0LyoqXG5cdCAqIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdCAqIEB0eXBlIG9ialxuXHQgKi9cblx0JGVsczogbnVsbCxcblxuXHQvKipcblx0ICogSW5pdGlsaXplXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtbGVzc29uLWxvY2tlZFwiXScgKTtcblxuXHRcdGlmICggdGhpcy4kbG9ja2VkLmxlbmd0aCApIHtcblxuXHRcdFx0c2VsZi5iaW5kKCk7XG5cblx0XHR9XG5cblx0XHRpZiAoICQoICcubGxtcy1jb3Vyc2UtbmF2aWdhdGlvbicgKS5sZW5ndGggKSB7XG5cblx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIERPTSBldmVudHNcblx0ICogQHJldHVybiB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR0aGlzLiRsb2NrZWQub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gKTtcblxuXHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRpZiAoICEkdGlwLmxlbmd0aCApIHtcblx0XHRcdFx0dmFyIG1zZyA9ICQoIHRoaXMgKS5hdHRyKCAnZGF0YS10b29sdGlwLW1zZycgKTtcblx0XHRcdFx0aWYgKCAhbXNnICkge1xuXHRcdFx0XHRcdG1zZyA9IExMTVMubDEwbi50cmFuc2xhdGUoICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhpcyBjb250ZW50JyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCR0aXAgPSBzZWxmLmdldF90b29sdGlwKCBtc2cgKTtcblx0XHRcdFx0JCggdGhpcyApLmFwcGVuZCggJHRpcCApO1xuXHRcdFx0fVxuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCR0aXAuYWRkQ2xhc3MoICdzaG93JyApO1xuXHRcdFx0fSwgMTAgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHQkdGlwLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBNYXRjaCB0aGUgaGVpZ2h0IG9mIGxlc3NvbiBwcmV2aWV3IGl0ZW1zIGluIGNvdXJzZSBuYXZpZ2F0aW9uIGJsb2Nrc1xuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJy5sbG1zLWNvdXJzZS1uYXZpZ2F0aW9uIC5sbG1zLWxlc3Nvbi1saW5rJyApLm1hdGNoSGVpZ2h0KCk7XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IGEgdG9vbHRpcCBlbGVtZW50XG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBtc2cgICBtZXNzYWdlIHRvIGRpc3BsYXkgaW5zaWRlIHRoZSB0b29sdGlwXG5cdCAqIEByZXR1cm4gICBvYmpcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjIuNFxuXHQgKi9cblx0Z2V0X3Rvb2x0aXA6IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0dmFyICRlbCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy10b29sdGlwXCIgLz4nICk7XG5cdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdHJldHVybiAkZWw7XG5cdH0sXG5cbn07XG4iLCIvKiBnbG9iYWwgTExNUywgJCAqL1xuXG4vKipcbiAqIExpZnRlckxNUyBMb29wcyBKU1xuICogQHNpbmNlICAgIDMuMC4wXG4gKiBAdmVyc2lvbiAgW3ZlcnNpbm9dXG4gKi9cbkxMTVMuTG9vcHMgPSB7XG5cblx0LyoqXG5cdCAqIEluaXRpbGl6ZVxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCAkKCAnLmxsbXMtbG9vcCcgKS5sZW5ndGggKSB7XG5cblx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBNYXRjaCB0aGUgaGVpZ2h0IG9mIC5sbG1zLWxvb3AtaXRlbVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0bWF0Y2hfaGVpZ2h0OiBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcubGxtcy1sb29wLWl0ZW0gLmxsbXMtbG9vcC1pdGVtLWNvbnRlbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQtbG9vcC1pdGVtIC5sbG1zLWFjaGlldmVtZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0JCggJy5sbG1zLWNlcnRpZmljYXRlLWxvb3AtaXRlbSAubGxtcy1jZXJ0aWZpY2F0ZScgKS5tYXRjaEhlaWdodCgpO1xuXG5cdH0sXG5cbn07XG4iLCIvKiBnbG9iYWwgTExNUywgJCAqL1xuXG4vKipcbiAqIEhhbmRsZSB0aGUgQ29sbHBhc2libGUgU3lsbGFidXMgV2lkZ2V0IC8gU2hvcnRjb2RlXG4gKi9cbkxMTVMuT3V0bGluZUNvbGxhcHNlID0ge1xuXG5cdC8qKlxuXHQgKiBqUXVlcnkgb2JqZWN0IG9mIGFsbCBvdXRsaW5lcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHQgKiBAdHlwZSBvYmpcblx0ICovXG5cdCRvdXRsaW5lczogbnVsbCxcblxuXHQvKipcblx0ICogSW5pdGlsaXplXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiRvdXRsaW5lcyA9ICQoICcubGxtcy13aWRnZXQtc3lsbGFidXMtLWNvbGxhcHNpYmxlJyApO1xuXG5cdFx0aWYgKCB0aGlzLiRvdXRsaW5lcy5sZW5ndGggKSB7XG5cblx0XHRcdHRoaXMuYmluZCgpO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dGhpcy4kb3V0bGluZXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkb3V0bGluZSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0JGhlYWRlcnMgPSAkb3V0bGluZS5maW5kKCAnLmxsbXMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXInICk7XG5cblx0XHRcdC8vIGJpbmQgaGVhZGVyIGNsaWNrc1xuXHRcdFx0JGhlYWRlcnMub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJHRvZ2dsZSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkc2VjdGlvbiA9ICR0b2dnbGUuY2xvc2VzdCggJy5sbG1zLXNlY3Rpb24nICksXG5cdFx0XHRcdFx0c3RhdGUgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXG5cdFx0XHRcdHN3aXRjaCggc3RhdGUgKSB7XG5cblx0XHRcdFx0XHRjYXNlICdjbG9zZWQnOlxuXHRcdFx0XHRcdFx0c2VsZi5vcGVuX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdvcGVuZWQnOlxuXHRcdFx0XHRcdFx0c2VsZi5jbG9zZV9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBiaW5kIG9wdGlvbmFsIHRvZ2dsZSBcImJ1dHRvbnNcIlxuXHRcdFx0JG91dGxpbmUuZmluZCggJy5sbG1zLWNvbGxhcHNlLXRvZ2dsZScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGFjdGlvbiA9ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApLFxuXHRcdFx0XHRcdG9wcG9zaXRlX2FjdGlvbiA9ICggJ2Nsb3NlJyA9PT0gYWN0aW9uICkgPyAnb3BlbmVkJyA6ICdjbG9zZWQnO1xuXG5cdFx0XHRcdCRoZWFkZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyICRzZWN0aW9uID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXG5cdFx0XHRcdFx0aWYgKCBvcHBvc2l0ZV9hY3Rpb24gIT09IHN0YXRlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c3dpdGNoKCBzdGF0ZSApIHtcblxuXHRcdFx0XHRcdFx0Y2FzZSAnY2xvc2VkJzpcblx0XHRcdFx0XHRcdFx0c2VsZi5jbG9zZV9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRcdHNlbGYub3Blbl9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkKCB0aGlzICkudHJpZ2dlciggJ2NsaWNrJyApO1xuXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIENsb3NlIGFuIG91dGxpbmUgc2VjdGlvblxuXHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGNsb3NlX3NlY3Rpb246IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblxuXHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBPcGVuIGFuIG91dGxpbmUgc2VjdGlvblxuXHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdG9wZW5fc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXG5cdFx0JHNlY3Rpb24ucmVtb3ZlQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKS5hZGRDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldCB0aGUgY3VycmVudCBzdGF0ZSAob3BlbiBvciBjbG9zZWQpIG9mIGFuIG91dGxpbmUgc2VjdGlvblxuXHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHQgKiBAcmV0dXJuIHN0cmluZyAgICAgICAgICAgICdvcGVuZWQnIG9yICdjbG9zZWQnXG5cdCAqL1xuXHRnZXRfc2VjdGlvbl9zdGF0ZTogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXG5cdFx0cmV0dXJuICRzZWN0aW9uLmhhc0NsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkgPyAnb3BlbmVkJyA6ICdjbG9zZWQnO1xuXG5cdH1cblxufTtcbiIsIi8qIGdsb2JhbCBMTE1TLCAkLCB3cCAqL1xuLyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblxuLyoqXG4gKiBIYW5kbGUgUGFzc3dvcmQgU3RyZW5ndGggTWV0ZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgcGFzc3dvcmQgdXBkYXRlIGZpZWxkc1xuICogQHNpbmNlIDMuMC4wXG4gKiBAdmVyc2lvbiAgMy43LjBcbiAqL1xuXG4kLmV4dGVuZCggTExNUy5QYXNzd29yZFN0cmVuZ3RoLCB7XG5cblx0JHBhc3M6ICQoICcubGxtcy1wYXNzd29yZCcgKSxcblx0JGNvbmY6ICQoICcubGxtcy1wYXNzd29yZC1jb25maXJtJyApLFxuXHQkbWV0ZXI6ICQoICcubGxtcy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcicgKSxcblx0JGZvcm06IG51bGwsXG5cblx0LyoqXG5cdCAqIGluaXRcblx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuNy4wXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuJG1ldGVyLmxlbmd0aCApIHtcblxuXHRcdFx0dGhpcy4kZm9ybSA9IHRoaXMuJHBhc3MuY2xvc2VzdCggJ2Zvcm0nICk7XG5cblx0XHRcdC8vIG91ciBhc3NldCBlbnF1ZXVlIGlzIGFsbCBzY3Jld2VkIHVwIGFuZCBJJ20gdG9vIHRpcmVkIHRvIGZpeCBpdFxuXHRcdFx0Ly8gc28gd2UncmUgZ29pbmcgdG8gcnVuIHRoaXMgbGl0dGxlIGRlcGVuZGVuY3kgY2hlY2tcblx0XHRcdC8vIGFuZCB3YWl0IGZvciBtYXRjaEhlaWdodCB0byBiZSBhdmFpbGFibGUgYmVmb3JlIGJpbmRpbmdcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0Y291bnRlciA9IDAsXG5cdFx0XHRcdGludGVydmFsO1xuXG5cdFx0XHRpbnRlcnZhbCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBpZiB3ZSBnZXQgdG8gMzAgc2Vjb25kcyBsb2cgYW4gZXJyb3IgbWVzc2FnZVxuXHRcdFx0XHQvLyBhbmQgcmVhbGx5IHdobyBjYXJlcyBpZiB0aGUgZWxlbWVudCBoZWlnaHRzIGFyZW4ndCBtYXRjaGVkXG5cdFx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cblx0XHRcdFx0XHRjb25zb2xlLmxvZyggJ2Nhbm5vdCBkbyBwYXNzd29yZCBzdHJlbmd0aCBtZXRlci4nKTtcblxuXHRcdFx0XHQvLyBpZiB3ZSBjYW4ndCBhY2Nlc3MgeWUsIGluY3JlbWVudCBhbmQgd2FpdC4uLlxuXHRcdFx0XHR9IGVsc2UgaWYgKCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHdwICYmICd1bmRlZmluZWQnID09PSB0eXBlb2Ygd3AucGFzc3dvcmRTdHJlbmd0aCApIHtcblxuXHRcdFx0XHRcdGNvdW50ZXIrKztcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0Ly8gYmluZCB0aGUgZXZlbnRzLCB3ZSdyZSBnb29kIVxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdFx0c2VsZi4kZm9ybS50cmlnZ2VyKCAnbGxtcy1wYXNzd29yZC1zdHJlbmd0aC1yZWFkeScgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggaW50ZXJ2YWwgKTtcblxuXHRcdFx0fSwgMTAwICk7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBNZXRob2Rcblx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKiBAc2luY2UgMy4wLjBcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Ly8gYWRkIHN1Ym1pc3Npb24gZXZlbnQgaGFuZGxlcnMgd2hlbiBub3Qgb24gYSBjaGVja291dCBmb3JtXG5cdFx0aWYgKCAhdGhpcy4kZm9ybS5oYXNDbGFzcyggJ2xsbXMtY2hlY2tvdXQnICkgKSB7XG5cdFx0XHR0aGlzLiRmb3JtLm9uKCAnc3VibWl0Jywgc2VsZiwgc2VsZi5zdWJtaXQgKTtcblx0XHR9XG5cblx0XHQvLyBjaGVjayBwYXNzd29yZCBzdHJlbmd0aCBvbiBrZXl1cFxuXHRcdHNlbGYuJHBhc3MuYWRkKCBzZWxmLiRjb25mICkub24oICdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5jaGVja19zdHJlbmd0aCgpO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVjayB0aGUgc3RyZW5ndGggb2YgYSB1c2VyIGVudGVyZWQgcGFzc3dvcmRcblx0ICogYW5kIHVwZGF0ZSBlbGVtZW50cyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgc3RyZW5ndGhcblx0ICogQHJldHVybiB2b2lkXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0Y2hlY2tfc3RyZW5ndGg6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRwYXNzX2ZpZWxkID0gdGhpcy4kcGFzcy5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdCRjb25mX2ZpZWxkID0gdGhpcy4kY29uZi5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdHBhc3NfbGVuZ3RoID0gdGhpcy4kcGFzcy52YWwoKS5sZW5ndGgsXG5cdFx0XHRjb25mX2xlbmd0aCA9IHRoaXMuJGNvbmYudmFsKCkubGVuZ3RoO1xuXG5cdFx0Ly8gaGlkZSB0aGUgbWV0ZXIgaWYgYm90aCBmaWVsZHMgYXJlIGVtcHR5XG5cdFx0aWYgKCAhcGFzc19sZW5ndGggJiYgIWNvbmZfbGVuZ3RoICkge1xuXHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCBpbnZhbGlkJyApO1xuXHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCBpbnZhbGlkJyApO1xuXHRcdFx0dGhpcy4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdCRwYXNzX2ZpZWxkLnJlbW92ZUNsYXNzKCAnaW52YWxpZCcgKS5hZGRDbGFzcyggJ3ZhbGlkJyApO1xuXHRcdFx0aWYgKCBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICdpbnZhbGlkJyApLmFkZENsYXNzKCAndmFsaWQnICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdCRwYXNzX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICkuYWRkQ2xhc3MoICdpbnZhbGlkJyApO1xuXHRcdFx0aWYgKCBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy4kbWV0ZXIucmVtb3ZlQ2xhc3MoICd0b28tc2hvcnQgdmVyeS13ZWFrIHdlYWsgbWVkaXVtIHN0cm9uZyBtaXNtYXRjaCcgKTtcblx0XHR0aGlzLiRtZXRlci5zaG93KCkuYWRkQ2xhc3MoIHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoICdzbHVnJyApICk7XG5cdFx0dGhpcy4kbWV0ZXIuaHRtbCggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3RleHQnICkgKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBmb3JtIHN1Ym1pc3Npb24gYWN0aW9uIGNhbGxlZCBkdXJpbmcgcmVnaXN0cmF0aW9uIG9uIGNoZWNrb3V0IHNjcmVlblxuXHQgKiBAcGFyYW0gICAgb2JqICAgICAgIHNlbGYgICAgICBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzXG5cdCAqIEBwYXJhbSAgICBGdW5jdGlvbiAgY2FsbGJhY2sgIGNhbGxiYWNrIGZ1bmN0aW9uLCBwYXNzZXMgZXJyb3IgbWVzc2FnZSBvciBzdWNjZXNzIGJhY2sgdG8gY2hlY2tvdXQgaGFuZGxlclxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRjaGVja291dDogZnVuY3Rpb24oIHNlbGYsIGNhbGxiYWNrICkge1xuXG5cdFx0aWYgKCBzZWxmLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXG5cdFx0XHRjYWxsYmFjayggdHJ1ZSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y2FsbGJhY2soIExMTVMubDEwbi50cmFuc2xhdGUoICdUaGVyZSBpcyBhbiBpc3N1ZSB3aXRoIHlvdXIgY2hvc2VuIHBhc3N3b3JkLicgKSApO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldCB0aGUgbGlzdCBvZiBibGFja2xpc3RlZCBzdHJpbmdzXG5cdCAqIFdlJ2xsIGFkZCBhIGZpbHRlciB0byB0aGlzIGxhdGVyIHNvIHRoYXQgZGV2ZWxvcGVycyBjYW4gYWRkIHRoZWlyIG93biBibGFja2xpc3QgdG8gdGhlIGRlZmF1bHQgV1AgbGlzdFxuXHQgKiBAcmV0dXJuIGFycmF5XG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKi9cblx0Z2V0X2JsYWNrbGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGJsYWNrbGlzdCA9IHdwLnBhc3N3b3JkU3RyZW5ndGgudXNlcklucHV0QmxhY2tsaXN0KCk7XG5cdFx0cmV0dXJuIGJsYWNrbGlzdDtcblx0fSxcblxuXHQvKipcblx0ICogUmV0cmlldmUgY3VycmVudCBzdHJlbmd0aCBhcyBhIG51bWJlciwgYSBzbHVnLCBvciBhIHRyYW5zbGF0ZWQgdGV4dCBzdHJpbmdcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIGZvcm1hdCAgZGVyaWZlZCByZXR1cm4gZm9ybWF0IFtpbnR8c2x1Z3x0ZXh0XSBkZWZhdWx0cyB0byBpbnRcblx0ICogQHJldHVybiAgIG1peGVkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdGdldF9jdXJyZW50X3N0cmVuZ3RoOiBmdW5jdGlvbiggZm9ybWF0ICkge1xuXG5cdFx0Zm9ybWF0ID0gZm9ybWF0IHx8ICdpbnQnO1xuXHRcdHZhciBwYXNzID0gdGhpcy4kcGFzcy52YWwoKSxcblx0XHRcdGNvbmYgPSB0aGlzLiRjb25mLnZhbCgpLFxuXHRcdFx0dmFsO1xuXG5cdFx0Ly8gZW5mb3JjZSBjdXN0b20gbGVuZ3RoIHJlcXVpcmVtZW50XG5cdFx0aWYgKCBwYXNzLmxlbmd0aCA8IDYgKSB7XG5cdFx0XHR2YWwgPSAtMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsID0gd3AucGFzc3dvcmRTdHJlbmd0aC5tZXRlciggcGFzcywgdGhpcy5nZXRfYmxhY2tsaXN0KCksIGNvbmYgKTtcblx0XHRcdC8vIDAgJiAxIGFyZSBib3RoIHZlcnktd2Vha1xuXHRcdFx0aWYgKCAwID09PSB2YWwgKSB7XG5cdFx0XHRcdHZhbCA9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAnc2x1ZycgPT09IGZvcm1hdCApIHtcblx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF9zbHVnKCB2YWwgKTtcblx0XHR9IGVsc2UgaWYgKCAndGV4dCcgPT09IGZvcm1hdCApIHtcblx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF90ZXh0KCB2YWwgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgdGhlIGN1cnJlbnQgcGFzc3dvcmQgc3RyZW5ndGggbWVldHMgdGhlIHVzZXItZGVmaW5lZFxuXHQgKiBtaW5pbXVtIHBhc3N3b3JkIHN0cmVuZ3RoIHJlcXVpcmVtZW50c1xuXHQgKiBAcmV0dXJuICAgYm9vbGVhblxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjdXJyID0gdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCgpLFxuXHRcdFx0bWluID0gdGhpcy5nZXRfc3RyZW5ndGhfdmFsdWUoIHRoaXMuZ2V0X21pbmltdW1fc3RyZW5ndGgoKSApO1xuXHRcdHJldHVybiAoIDUgPT09IGN1cnIgKSA/IGZhbHNlIDogKCBjdXJyID49IG1pbiApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIHNsdWcgYXNzb2NpYXRlZCB3aXRoIGEgc3RyZW5ndGggdmFsdWVcblx0ICogQHBhcmFtICAgIGludCAgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWUgbnVtYmVyXG5cdCAqIEByZXR1cm4gICBzdHJpbmdcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0Z2V0X3N0cmVuZ3RoX3NsdWc6IGZ1bmN0aW9uKCBzdHJlbmd0aF92YWwgKSB7XG5cblx0XHR2YXIgc2x1Z3MgPSB7XG5cdFx0XHQnLTEnOiAndG9vLXNob3J0Jyxcblx0XHRcdDE6ICd2ZXJ5LXdlYWsnLFxuXHRcdFx0MjogJ3dlYWsnLFxuXHRcdFx0MzogJ21lZGl1bScsXG5cdFx0XHQ0OiAnc3Ryb25nJyxcblx0XHRcdDU6ICdtaXNtYXRjaCcsXG5cdFx0fTtcblxuXHRcdHJldHVybiAoIHNsdWdzWyBzdHJlbmd0aF92YWwgXSApID8gc2x1Z3NbIHN0cmVuZ3RoX3ZhbCBdIDogc2x1Z3NbNV07XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0cyB0aGUgdHJhbnNsYXRlZCB0ZXh0IGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdCAqIEBwYXJhbSAgICBpbnQgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWVcblx0ICogQHJldHVybiAgIHN0cmluZ1xuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfc3RyZW5ndGhfdGV4dDogZnVuY3Rpb24oIHN0cmVuZ3RoX3ZhbCApIHtcblxuXHRcdHZhciB0ZXh0cyA9IHtcblx0XHRcdCctMSc6IExMTVMubDEwbi50cmFuc2xhdGUoICdUb28gU2hvcnQnICksXG5cdFx0XHQxOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVmVyeSBXZWFrJyApLFxuXHRcdFx0MjogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1dlYWsnICksXG5cdFx0XHQzOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWVkaXVtJyApLFxuXHRcdFx0NDogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1N0cm9uZycgKSxcblx0XHRcdDU6IExMTVMubDEwbi50cmFuc2xhdGUoICdNaXNtYXRjaCcgKSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuICggdGV4dHNbIHN0cmVuZ3RoX3ZhbCBdICkgPyB0ZXh0c1sgc3RyZW5ndGhfdmFsIF0gOiB0ZXh0c1s1XTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHNsdWdcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIHN0cmVuZ3RoX3NsdWcgIGEgc3RyZW5ndGggc2x1Z1xuXHQgKiBAcmV0dXJuICAgaW50XG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdGdldF9zdHJlbmd0aF92YWx1ZTogZnVuY3Rpb24oIHN0cmVuZ3RoX3NsdWcgKSB7XG5cblx0XHR2YXIgdmFsdWVzID0ge1xuXHRcdFx0J3Rvby1zaG9ydCc6IC0xLFxuXHRcdFx0J3Zlcnktd2Vhayc6IDEsXG5cdFx0XHR3ZWFrOiAyLFxuXHRcdFx0bWVkaXVtOiAzLFxuXHRcdFx0c3Ryb25nOiA0LFxuXHRcdFx0bWlzbWF0Y2g6IDUsXG5cdFx0fTtcblxuXHRcdHJldHVybiAoIHZhbHVlc1sgc3RyZW5ndGhfc2x1ZyBdICkgPyB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSA6IHZhbHVlcy5taXNtYXRjaDtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBGb3JtIHN1Ym1pc3Npb24gaGFuZGxlciBmb3IgcmVnaXN0cmF0aW9uIGFuZCB1cGRhdGUgZm9ybXNcblx0ICogQHBhcmFtICAgIG9iaiAgICBlICAgICAgICAgZXZlbnQgZGF0YVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRzdWJtaXQ6IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0dmFyIHNlbGYgPSBlLmRhdGE7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHNlbGYuJHBhc3MudHJpZ2dlciggJ2tleXVwJyApO1xuXG5cdFx0aWYgKCBzZWxmLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcdFx0c2VsZi4kZm9ybS5vZmYoICdzdWJtaXQnLCBzZWxmLnN1Ym1pdCApO1xuXHRcdFx0c2VsZi4kZm9ybS50cmlnZ2VyKCAnc3VibWl0JyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCAnaHRtbCwgYm9keScgKS5hbmltYXRlKCB7XG5cdFx0XHRcdHNjcm9sbFRvcDogc2VsZi4kbWV0ZXIub2Zmc2V0KCkudG9wIC0gMTAwLFxuXHRcdFx0fSwgMjAwICk7XG5cdFx0XHRzZWxmLiRtZXRlci5oaWRlKCk7XG5cdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi4kbWV0ZXIuZmFkZUluKCA0MDAgKTtcblx0XHRcdH0sIDIyMCApO1xuXHRcdH1cblx0fVxuXG59ICk7XG4iLCIvKiBnbG9iYWwgTExNUywgJCAqL1xuLyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cbi8qKlxuICogUHJpY2luZyBUYWJsZSBVSVxuICovXG5MTE1TLlByaWNpbmdfVGFibGVzID0ge1xuXG5cdC8qKlxuXHQgKiBpbml0XG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoICQoICcubGxtcy1hY2Nlc3MtcGxhbnMnICkubGVuZ3RoICkge1xuXG5cdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMuJGxvY2tlZCA9ICQoICdhW2hyZWY9XCIjbGxtcy1wbGFuLWxvY2tlZFwiXScgKTtcblxuXHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXG5cdFx0XHRcdExMTVMud2FpdF9mb3JfcG9wb3ZlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kX2xvY2tlZCgpO1xuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIE1ldGhvZFxuXHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcubGxtcy1hY2Nlc3MtcGxhbi1jb250ZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0JCggJy5sbG1zLWFjY2Vzcy1wbGFuLXByaWNpbmcudHJpYWwnICkubWF0Y2hIZWlnaHQoKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZXR1cCBhIHBvcG92ZXIgZm9yIG1lbWJlcnMtb25seSByZXN0cmljdGVkIHBsYW5zXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuOS4xXG5cdCAqL1xuXHRiaW5kX2xvY2tlZDogZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiRsb2NrZWQuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoIHRoaXMgKS53ZWJ1aVBvcG92ZXIoIHtcblx0XHRcdFx0YW5pbWF0aW9uOiAncG9wJyxcblx0XHRcdFx0Y2xvc2VhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb250ZW50OiBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHR2YXIgJGNvbnRlbnQgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtbWVtYmVycy1vbmx5LXJlc3RyaWN0aW9uc1wiIC8+JyApO1xuXHRcdFx0XHRcdCRjb250ZW50LmFwcGVuZCggZS4kZWxlbWVudC5jbG9zZXN0KCAnLmxsbXMtYWNjZXNzLXBsYW4nICkuZmluZCggJy5sbG1zLWFjY2Vzcy1wbGFuLXJlc3RyaWN0aW9ucyB1bCcgKS5jbG9uZSgpICk7XG5cdFx0XHRcdFx0cmV0dXJuICRjb250ZW50O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwbGFjZW1lbnQ6ICd0b3AnLFxuXHRcdFx0XHRzdHlsZTogJ2ludmVyc2UnLFxuXHRcdFx0XHR0aXRsZTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lbWJlcnMgT25seSBQcmljaW5nJyApLFxuXHRcdFx0XHR3aWR0aDogJzI4MHB4Jyxcblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG59O1xuIiwiLyogZ2xvYmFsIExMTVMsICQsIGpRdWVyeSAqL1xuLyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cbi8qanNoaW50IC1XMDIwICovXG5cbkxMTVMuUmV2aWV3ID0ge1xuXHQvKipcblx0ICogaW5pdFxuXHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpXG5cdHtcblx0XHQvLyBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIFJldmlldyAnKTtcblx0XHR0aGlzLmJpbmQoKTtcblx0fSxcblxuXHQvKipcblx0ICogVGhpcyBmdW5jdGlvbiBiaW5kcyBhY3Rpb25zIHRvIHRoZSBhcHByb3ByaWF0ZSBob29rc1xuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKVxuXHR7XG5cdFx0JCgnI2xsbXNfcmV2aWV3X3N1Ym1pdF9idXR0b24nKS5jbGljayhmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0aWYgKCQoJyNyZXZpZXdfdGl0bGUnKS52YWwoKSAhPT0gJycgJiYgJCgnI3Jldmlld190ZXh0JykudmFsKCkgIT09ICcnKVxuXHRcdFx0e1xuXHRcdFx0XHRqUXVlcnkuYWpheCh7XG5cdFx0ICAgICAgICAgICAgdHlwZSA6ICdwb3N0Jyxcblx0XHQgICAgICAgICAgICBkYXRhVHlwZSA6ICdqc29uJyxcblx0XHQgICAgICAgICAgICB1cmwgOiB3aW5kb3cubGxtcy5hamF4dXJsLFxuXHRcdCAgICAgICAgICAgIGRhdGEgOiB7XG5cdFx0ICAgICAgICAgICAgXHRhY3Rpb24gOiAnTExNU1N1Ym1pdFJldmlldycsXG5cdFx0ICAgICAgICAgICAgICAgIHJldmlld190aXRsZTogJCgnI3Jldmlld190aXRsZScpLnZhbCgpLFxuXHRcdCAgICAgICAgICAgICAgICByZXZpZXdfdGV4dDogJCgnI3Jldmlld190ZXh0JykudmFsKCksXG5cdFx0ICAgICAgICAgICAgICAgIHBhZ2VJRCA6ICQoJyNwb3N0X0lEJykudmFsKClcblx0XHQgICAgICAgICAgICB9LFxuXHRcdCAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKClcblx0XHQgICAgICAgICAgICB7XG5cdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXZpZXcgc3VjY2VzcycpO1xuXHRcdCAgICAgICAgICAgICAgICAkKCcjcmV2aWV3X2JveCcpLmhpZGUoJ3N3aW5nJyk7XG5cdFx0ICAgICAgICAgICAgICAgICQoJyN0aGFua195b3VfYm94Jykuc2hvdygnc3dpbmcnKTtcblx0XHQgICAgICAgICAgICB9LFxuXHRcdCAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKVxuXHRcdCAgICAgICAgICAgIHtcblx0XHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coanFYSFIpO1xuXHRcdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXh0U3RhdHVzKTtcblx0XHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3JUaHJvd24pO1xuXHRcdCAgICAgICAgICAgIH0sXG5cdFx0ICAgICAgICB9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgkKCcjcmV2aWV3X3RpdGxlJykudmFsKCkgPT09ICcnKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0JCgnI3Jldmlld190aXRsZV9lcnJvcicpLnNob3coJ3N3aW5nJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCgnI3Jldmlld190aXRsZV9lcnJvcicpLmhpZGUoJ3N3aW5nJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCQoJyNyZXZpZXdfdGV4dCcpLnZhbCgpID09PSAnJylcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCQoJyNyZXZpZXdfdGV4dF9lcnJvcicpLnNob3coJ3N3aW5nJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCgnI3Jldmlld190ZXh0X2Vycm9yJykuaGlkZSgnc3dpbmcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGlmICggJCgnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycpLmF0dHIoJ2NoZWNrZWQnKSApIHtcblx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcpLmFkZENsYXNzKCd0b3AnKTtcblx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScpLnNob3coKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nKS5oaWRlKCk7XG5cdFx0fVxuXHRcdCQoJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICQoJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnKS5hdHRyKCdjaGVja2VkJykgKSB7XG5cdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcpLmFkZENsYXNzKCd0b3AnKTtcblx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJykuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtdG9wJykucmVtb3ZlQ2xhc3MoJ3RvcCcpO1xuXHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fSxcbn07XG4iLCIvKiBnbG9iYWwgTExNUywgJCAqL1xuXG4vKipcbiAqIEFkZCBTcGlubmVycyBmb3IgQUpBWCBldmVudHNcbiAqIEBzaW5jZSAzLjAuMFxuICogQHZlcnNpb24gMy4wLjBcbiAqL1xuTExNUy5TcGlubmVyID0ge1xuXG5cdC8qKlxuXHQgKiBHZXQgYW4gZXhpdGluZyBzcGlubmVyIGVsZW1lbnQgb3IgY3JlYXRlIGEgbmV3IG9uZVxuXHQgKiBAcGFyYW0gICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5ubmVyXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbCBpcyAyMHB4XG5cdCAqIEByZXR1cm4gICBvYmpcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdCAqL1xuXHRnZXQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cblx0XHQvLyBsb29rIGZvciBhbiBleGlzdGluZyBzcGlubmVyXG5cdFx0dmFyICRzcGlubmVyID0gJGVsLmZpbmQoICcubGxtcy1zcGlubmluZycgKS5maXJzdCgpO1xuXG5cdFx0Ly8gbm8gc3Bpbm5lciBpbnNpZGUgJGVsXG5cdFx0aWYgKCAhJHNwaW5uZXIubGVuZ3RoICkge1xuXG5cdFx0XHRzaXplID0gKCBzaXplICkgPyBzaXplIDogJ2RlZmF1bHQnO1xuXG5cdFx0XHQvLyBjcmVhdGUgdGhlIHNwaW5uZXJcblx0XHRcdCRzcGlubmVyID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLXNwaW5uaW5nXCI+PGkgY2xhc3M9XCJsbG1zLXNwaW5uZXIgJyArIHNpemUgKyAnXCI+PC9pPjwvZGl2PicgKTtcblxuXHRcdFx0Ly8gYWRkIGl0IHRvIHRoZSBkb21cblx0XHRcdCRlbC5hcHBlbmQoICRzcGlubmVyICk7XG5cblx0XHR9XG5cblx0XHQvLyByZXR1cm4gaXRcblx0XHRyZXR1cm4gJHNwaW5uZXI7XG5cblx0fSxcblxuXHQvKipcblx0ICogU3RhcnQgc3Bpbm5lcihzKSBpbnI9c2lkZSBhIGdpdmVuIGVsZW1lbnRcblx0ICogQ3JlYXRlcyB0aGVtIGlmIHRoZXkgZG9uJ3QgZXhpc3QhXG5cdCAqIEBwYXJhbSAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubm5lclxuXHQgKiBAcGFyYW0gICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbCBpcyAyMHB4XG5cdCAqIEByZXR1cm4gIHZvaWRcblx0ICogQHNpbmNlICAgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdHN0YXJ0OiBmdW5jdGlvbiggJGVsLCBzaXplICkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRzZWxmLmdldCggJCggdGhpcyApLCBzaXplICkuc2hvdygpO1xuXG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIFN0b3Igc3Bpbm5lcnMgd2l0aGluIGFuIGVsZW1lbnRcblx0ICogQHBhcmFtICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5ubmVyXG5cdCAqIEByZXR1cm4gIHZvaWRcblx0ICogQHNpbmNlICAgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdHN0b3A6IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHNlbGYuZ2V0KCAkKCB0aGlzICkgKS5oaWRlKCk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG59O1xuIiwiLyogZ2xvYmFsIExMTVMsICQgKi9cblxuLyoqXG4gKiBTdHVkZW50IERhc2hib2FyZCByZWxhdGVkIEpTXG4gKiBAdHlwZSAge09iamVjdH1cbiAqIEBzaW5jZSAgICAzLjcuMFxuICogQHZlcnNpb24gIDMuMTAuMFxuICovXG5MTE1TLlN0dWRlbnREYXNoYm9hcmQgPSB7XG5cblx0LyoqXG5cdCAqIFNsdWcgZm9yIHRoZSBjdXJyZW50IHNjcmVlbi9lbmRwb2ludFxuXHQgKiBAdHlwZSAge1N0cmluZ31cblx0ICovXG5cdHNjcmVlbjogJycsXG5cblx0LyoqXG5cdCAqIFdpbGwgc2hvdyB0aGUgbnVtYmVyIG9mIG1ldGVycyBvbiB0aGUgcGFnZVxuXHQgKiBVc2VkIHRvIGNvbmRpdGlvbmFsbHkgYmluZCBtZXRlci1yZWxhdGVkIGV2ZW50cyBvbmx5IHdoZW4gbWV0ZXJzXG5cdCAqIGFjdHVhbGx5IGV4aXN0XG5cdCAqIEB0eXBlICBpbnRcblx0ICovXG5cdG1ldGVyX2V4aXN0czogMCxcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCcgKS5sZW5ndGggKSB7XG5cblx0XHRcdHRoaXMubWV0ZXJfZXhpc3RzID0gJCggJy5sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyApLmxlbmd0aDtcblx0XHRcdHRoaXMuYmluZCgpO1xuXG5cdFx0XHRpZiAoICdvcmRlcnMnID09PSB0aGlzLmdldF9zY3JlZW4oKSApIHtcblxuXHRcdFx0XHR0aGlzLmJpbmRfb3JkZXJzKCk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIERPTSBldmVudHNcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuNy4wXG5cdCAqIEB2ZXJzaW9uICAzLjcuNFxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHQkdG9nZ2xlID0gJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkIGFbaHJlZj1cIiNsbG1zLXBhc3N3b3JkLWNoYW5nZS10b2dnbGVcIl0nICk7XG5cblx0XHQvLyBjbGljayBldmVudCBmb3IgdGhlIGNoYW5nZSBwYXNzd29yZCBsaW5rXG5cdFx0JHRvZ2dsZS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICR0aGlzID0gJCggdGhpcyApLFxuXHRcdFx0XHRjdXJyX3RleHQgPSAkdGhpcy50ZXh0KCksXG5cdFx0XHRcdGN1cnJfYWN0aW9uID0gJHRoaXMuYXR0ciggJ2RhdGEtYWN0aW9uJyApLFxuXHRcdFx0XHRuZXdfYWN0aW9uID0gJ2hpZGUnID09PSBjdXJyX2FjdGlvbiA/ICdzaG93JyA6ICdoaWRlJyxcblx0XHRcdFx0bmV3X3RleHQgPSAkdGhpcy5hdHRyKCAnZGF0YS10ZXh0JyApO1xuXG5cdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggY3Vycl9hY3Rpb24gKTtcblxuXHRcdFx0Ly8gcHJldmVudCBhY2NpZGVudGFsIGNhbmNlbHMgd2hlbiB1c2VycyB0YWIgb3V0IG9mIHRoZSBjb25maXJtIHBhc3N3b3JkIGZpZWxkXG5cdFx0XHQvLyBhbmQgZXhwZWN0IHRvIGhpdCBzdWJtaXQgd2l0aCBlbnRlciBrZXkgaW1tZWRpYXRlbHkgYWZ0ZXJcblx0XHRcdGlmICggJ3Nob3cnID09PSBjdXJyX2FjdGlvbiApIHtcblx0XHRcdFx0JHRoaXMuYXR0ciggJ3RhYmluZGV4JywgJy03NzcnICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkdGhpcy5yZW1vdmVBdHRyKCAndGFiaW5kZXgnICk7XG5cdFx0XHR9XG5cblx0XHRcdCR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicsIG5ld19hY3Rpb24gKS5hdHRyKCAnZGF0YS10ZXh0JywgY3Vycl90ZXh0ICkudGV4dCggbmV3X3RleHQgKTtcblxuXHRcdH0gKTtcblxuXHRcdC8vIHRoaXMgd2lsbCByZW1vdmUgdGhlIHJlcXVpcmVkIGJ5IGRlZmF1bHQgd2l0aG91dCBoYXZpbmcgdG8gbWVzcyB3aXRoXG5cdFx0Ly8gY29uZGl0aW9uYWxzIGluIFBIUCBhbmQgc3RpbGwgYWxsb3dzIHRoZSByZXF1aXJlZCAqIHRvIHNob3cgaW4gdGhlIGxhYmVsXG5cblx0XHRpZiAoIHRoaXMubWV0ZXJfZXhpc3RzICkge1xuXG5cdFx0XHQkKCAnLmxsbXMtcGVyc29uLWZvcm0uZWRpdC1hY2NvdW50JyApLm9uKCAnbGxtcy1wYXNzd29yZC1zdHJlbmd0aC1yZWFkeScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggJ2hpZGUnICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggJ2hpZGUnICk7XG5cblx0XHR9XG5cblx0XHQkKCAnLmxsbXMtZG9udXQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRMTE1TLkRvbnV0KCAkKCB0aGlzICkgKTtcblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBldmVudHMgcmVsYXRlZCB0byB0aGUgb3JkZXJzIHNjcmVlbiBvbiB0aGUgZGFzaGJvYXJkXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0YmluZF9vcmRlcnM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJyNsbG1zLWNhbmNlbC1zdWJzY3JpcHRpb24tZm9ybScgKS5vbiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHQkKCAnI2xsbXNfdXBkYXRlX3BheW1lbnRfbWV0aG9kJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdCQoICdpbnB1dFtuYW1lPVwibGxtc19wYXltZW50X2dhdGV3YXlcIl06Y2hlY2tlZCcgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0JCggdGhpcyApLmNsb3Nlc3QoICdmb3JtJyApLmZpbmQoICcubGxtcy1zd2l0Y2gtcGF5bWVudC1zb3VyY2UtbWFpbicgKS5zbGlkZVRvZ2dsZSggJzIwMCcgKTtcblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBjdXJyZW50IGRhc2hib2FyZCBlbmRwb2ludC90YWIgc2x1Z1xuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0ICovXG5cdGdldF9zY3JlZW46IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXMuc2NyZWVuICkge1xuXHRcdFx0dGhpcy5zY3JlZW4gPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQnICkuYXR0ciggJ2RhdGEtY3VycmVudCcgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuc2NyZWVuO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTaG93IGEgY29uZmlybWF0aW9uIHdhcm5pbmcgd2hlbiBDYW5jZWwgU3Vic2NyaXB0aW9uIGZvcm0gaXMgc3VibWl0dGVkXG5cdCAqIEBwYXJhbSAgICBvYmogICBlICBKUyBldmVudCBkYXRhXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0b3JkZXJfY2FuY2VsX3dhcm5pbmc6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWwgeW91ciBzdWJzY3JpcHRpb24/JyApO1xuXHRcdGlmICggd2luZG93LmNvbmZpcm0oIExMTVMubDEwbi50cmFuc2xhdGUoIG1zZyApICkgKSB7XG5cdFx0XHQkKCB0aGlzICkub2ZmKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdFx0JCggdGhpcyApLnN1Ym1pdCgpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogVG9nZ2xlIHBhc3N3b3JkIHJlbGF0ZWQgZmllbGRzIG9uIHRoZSBhY2NvdW50IGVkaXQgcGFnZVxuXHQgKiBAcGFyYW0gICAgc3RyaW5nICAgYWN0aW9uICBbc2hvd3xoaWRlXVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuNy40XG5cdCAqL1xuXHRwYXNzd29yZF90b2dnbGU6IGZ1bmN0aW9uKCBhY3Rpb24gKSB7XG5cblx0XHRpZiAoICFhY3Rpb24gKSB7XG5cdFx0XHRhY3Rpb24gPSAnc2hvdyc7XG5cdFx0fVxuXG5cdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0JHB3ZHMgPSAkKCAnI3Bhc3N3b3JkLCAjcGFzc3dvcmRfY29uZmlybSwgI2N1cnJlbnRfcGFzc3dvcmQnICksXG5cdFx0XHQkZm9ybSA9ICQoICcjcGFzc3dvcmQnICkuY2xvc2VzdCggJ2Zvcm0nICk7XG5cblx0XHQvLyBoaWRlIG9yIHNob3cgdGhlIGZpZWxkc1xuXHRcdCQoICcubGxtcy1jaGFuZ2UtcGFzc3dvcmQnIClbIGFjdGlvbiBdKCk7XG5cblx0XHRpZiAoICdzaG93JyA9PT0gYWN0aW9uICkge1xuXHRcdFx0Ly8gbWFrZSBwYXNzd29yZHMgcmVxdWlyZWRcblx0XHRcdCRwd2RzLmF0dHIoICdyZXF1aXJlZCcsICdyZXF1aXJlZCcgKTtcblxuXHRcdFx0aWYgKCBzZWxmLm1ldGVyX2V4aXN0cyApIHtcblx0XHRcdFx0Ly8gYWRkIHRoZSBzdHJlbmd0aCBjaGVjayBvbiBmb3JtIHN1Ym1pc3Npb25cblx0XHRcdFx0JGZvcm0ub24oICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyByZW1vdmUgcmVxdWlyZW1lbnQgc28gZm9ybSBjYW4gYmUgc3VibWl0dGVkIHdoaWxlIGZpZWxkcyBhcmUgaGlkZGVuXG5cdFx0XHQvLyBhbmQgY2xlYXIgdGhlIHBhc3N3b3JkIG91dCBvZiB0aGUgZmllbGRzIGlmIHR5cGluZyBzdGFydGVkXG5cdFx0XHQkcHdkcy5yZW1vdmVBdHRyKCAncmVxdWlyZWQnICkudmFsKCAnJyApO1xuXG5cdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXG5cdFx0XHRcdC8vIHJlbW92ZSB0aGUgcGFzc3dvcmQgc3RyZW5ndGggc3VibWlzc2lvbiBjaGVja1xuXHRcdFx0XHQkZm9ybS5vZmYoICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGguc3VibWl0ICk7XG5cdFx0XHRcdC8vIGNsZWFycyB0aGUgbWV0ZXJcblx0XHRcdFx0TExNUy5QYXNzd29yZFN0cmVuZ3RoLmNoZWNrX3N0cmVuZ3RoKCk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9LFxuXG59O1xuIiwiLypnbG9iYWwgTExNUyAqL1xuLyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblxuLyoqXG4gKiBSZXN0IE1ldGhvZHNcbiAqIE1hbmFnZXMgVVJMIGFuZCBSZXN0IG9iamVjdCBwYXJzaW5nXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5MTE1TLlJlc3QgPSB7XG5cblx0LyoqXG5cdCAqIGluaXRcblx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5iaW5kKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgTWV0aG9kXG5cdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZWFyY2hlcyBmb3Igc3RyaW5nIG1hdGNoZXMgaW4gdXJsIHBhdGhcblx0ICogQHBhcmFtICB7QXJyYXl9ICBzdHJpbmdzIFtBcnJheSBvZiBzdHJpbmdzIHRvIHNlYXJjaCBmb3IgbWF0Y2hlc11cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgICBbV2FzIGEgbWF0Y2ggZm91bmQ/XVxuXHQgKi9cblx0aXNfcGF0aDogZnVuY3Rpb24oIHN0cmluZ3MgKSB7XG5cblx0XHR2YXIgcGF0aF9leGlzdHMgPSBmYWxzZSxcblx0XHRcdHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXG5cdFx0Zm9yKCB2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0XHRpZiAoIHVybC5zZWFyY2goIHN0cmluZ3NbaV0gKSA+IDAgJiYgIXBhdGhfZXhpc3RzICkge1xuXG5cdFx0XHRcdHBhdGhfZXhpc3RzID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcGF0aF9leGlzdHM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHJpZXZlcyBxdWVyeSB2YXJpYWJsZXNcblx0ICogQHJldHVybiB7W0FycmF5XX0gW2FycmF5IG9iamVjdCBvZiBxdWVyeSB2YXJpYWJsZSBrZXk9PnZhbHVlIHBhaXJzXVxuXHQgKi9cblx0Z2V0X3F1ZXJ5X3ZhcnM6IGZ1bmN0aW9uKCkge1xuXG5cdCAgICB2YXIgdmFycyA9IFtdLCBoYXNoLFxuXHQgICAgXHRoYXNoZXMgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCc/JykgKyAxKS5zcGxpdCgnJicpO1xuXG5cdCAgICBmb3IodmFyIGkgPSAwOyBpIDwgaGFzaGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaGFzaCA9IGhhc2hlc1tpXS5zcGxpdCgnPScpO1xuXHQgICAgICAgIHZhcnMucHVzaChoYXNoWzBdKTtcblx0ICAgICAgICB2YXJzW2hhc2hbMF1dID0gaGFzaFsxXTtcblx0ICAgIH1cblxuICAgIFx0cmV0dXJuIHZhcnM7XG5cdH1cblxufTtcbiJdfQ==
